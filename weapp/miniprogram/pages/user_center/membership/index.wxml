<custom-navbar title="会员中心" showBack="{{true}}" bind:navheight="onNavHeight" />

<view class="page-container customer-page-container" style="padding-top: {{navBarHeight}}px;">
  <t-loading wx:if="{{loading}}" theme="circular" size="40rpx" class="loading" />

  <view wx:if="{{!loading}}" class="content">
    <!-- 会员卡片 -->
    <view class="member-card level-{{userInfo.level}}">
      <view class="card-header">
        <text class="level-name">{{userInfo.levelName}}</text>
        <t-icon name="verified" size="48rpx" color="#fff" />
      </view>
      <view class="card-body">
        <view class="progress-section">
          <view class="exp-info">
            <text>当前成长值 {{userInfo.exp}}</text>
            <text>距离下一级还需 {{userInfo.nextLevelExp - userInfo.exp}}</text>
          </view>
          <t-progress percentage="{{userInfo.progress}}" color="#fff" track-color="rgba(255,255,255,0.3)" />
        </view>
      </view>
    </view>

    <!-- 会员权益 -->
    <view class="benefits-section">
      <view class="section-title">会员权益</view>
      <view class="benefits-grid">
        <view wx:for="{{benefits}}" wx:key="name" class="benefit-item">
          <view class="benefit-icon">
            <t-icon name="{{item.icon}}" size="48rpx" color="#E34D59" />
          </view>
          <text class="benefit-name">{{item.name}}</text>
          <text class="benefit-desc">{{item.desc}}</text>
        </view>
      </view>
    </view>
  </view>
</view>
