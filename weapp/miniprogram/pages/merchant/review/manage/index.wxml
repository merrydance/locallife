<view class="container">
  <t-tabs value="{{currentTab}}" bind:change="onTabChange" sticky>
    <t-tab-panel wx:for="{{tabs}}" wx:key="value" label="{{item.label}}" value="{{item.value}}" />
  </t-tabs>

  <view class="list-content">
    <view wx:if="{{reviews.length === 0 && !loading}}" class="empty-state">
        <t-empty icon="info-circle-filled" description="暂无评价" />
    </view>

    <view class="review-item" wx:for="{{reviews}}" wx:key="id">
        <review-card review="{{item}}" bind:reply="onReply" />
        <view class="actions" wx:if="{{!item.reply}}">
            <t-button size="small" theme="primary" variant="text" data-id="{{item.id}}" bind:tap="onReply">回复</t-button>
        </view>
    </view>
    
    <t-load-more status="{{loading ? 'loading' : (hasMore ? 'loading' : 'nomore')}}" />
  </view>

  <t-dialog
    visible="{{showReplyDialog}}"
    title="回复评价"
    confirm-btn="确认回复"
    cancel-btn="取消"
    bind:confirm="confirmReply"
    bind:cancel="closeReplyDialog"
  >
    <view slot="content">
      <t-textarea placeholder="请输入回复内容" value="{{replyContent}}" bind:change="onReplyInput" />
    </view>
  </t-dialog>
</view>
