<view class="container">
  <!-- 未认领状态 -->
  <view wx:if="{{!claimed}}" class="claim-section">
    <view class="header">
      <text class="title">认领店铺</text>
      <text class="subtitle">输入认领码或扫码认领店铺管理权限</text>
    </view>

    <view class="input-section">
      <view class="input-wrapper">
        <input 
          class="code-input" 
          placeholder="请输入认领码" 
          value="{{bindCode}}"
          bindinput="onInputChange"
        />
      </view>
      
      <button class="btn-scan" bindtap="onScan">
        <text class="scan-icon">📷</text>
        <text>扫一扫</text>
      </button>
    </view>

    <button 
      class="btn-claim {{loading ? 'loading' : ''}}" 
      bindtap="claimBoss"
      disabled="{{loading || !bindCode}}"
    >
      {{loading ? '认领中...' : '确认认领'}}
    </button>

    <view class="tips">
      <text class="tips-title">说明：</text>
      <text class="tips-item">• Boss 可认领多个店铺</text>
      <text class="tips-item">• 认领后可查看经营分析和管理员工</text>
      <text class="tips-item">• 认领码由店铺老板生成</text>
    </view>
  </view>

  <!-- 认领成功状态 -->
  <view wx:if="{{claimed}}" class="success-section">
    <view class="success-icon">✅</view>
    <text class="success-title">认领成功</text>
    <text class="success-merchant">{{merchantName}}</text>
    
    <button class="btn-primary" bindtap="onGoToWorkspace">进入 Boss 工作台</button>
    <button class="btn-secondary" bindtap="onGoBack">返回</button>
  </view>
</view>
