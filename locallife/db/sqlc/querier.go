// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0

package db

import (
	"context"
	"time"

	"github.com/jackc/pgx/v5/pgtype"
)

type Querier interface {
	AddCartItem(ctx context.Context, arg AddCartItemParams) (CartItem, error)
	// ============================================
	// 套餐菜品关联查询 (Combo Dish Queries)
	// ============================================
	AddComboDish(ctx context.Context, arg AddComboDishParams) (ComboDish, error)
	// ============================================
	// 套餐标签关联查询 (Combo Tag Queries)
	// ============================================
	AddComboTag(ctx context.Context, arg AddComboTagParams) (ComboTag, error)
	// ============================================
	// 菜品食材关联查询 (Dish Ingredient Queries)
	// ============================================
	AddDishIngredient(ctx context.Context, arg AddDishIngredientParams) (DishIngredient, error)
	// ============================================
	// 菜品标签关联查询 (Dish Tag Queries)
	// ============================================
	AddDishTag(ctx context.Context, arg AddDishTagParams) (DishTag, error)
	AddFavoriteDish(ctx context.Context, arg AddFavoriteDishParams) (Favorite, error)
	AddFavoriteMerchant(ctx context.Context, arg AddFavoriteMerchantParams) (Favorite, error)
	// ==================== 商户标签关联 ====================
	AddMerchantTag(ctx context.Context, arg AddMerchantTagParams) error
	// 为运营商添加管理区域
	AddOperatorRegion(ctx context.Context, arg AddOperatorRegionParams) (OperatorRegion, error)
	// ============ Table Images ============
	AddTableImage(ctx context.Context, arg AddTableImageParams) (TableImage, error)
	// ============ Table Tags ============
	AddTableTag(ctx context.Context, arg AddTableTagParams) (TableTag, error)
	AddToDeliveryPool(ctx context.Context, arg AddToDeliveryPoolParams) (DeliveryPool, error)
	// 增加用户余额（入账）
	AddUserBalance(ctx context.Context, arg AddUserBalanceParams) (UserBalance, error)
	// 审核通过商户申请
	ApproveMerchantApplication(ctx context.Context, id int64) (MerchantApplication, error)
	// 审核通过运营商申请（平台管理员操作）
	ApproveOperatorApplication(ctx context.Context, arg ApproveOperatorApplicationParams) (OperatorApplication, error)
	// 审核通过骑手申请
	ApproveRiderApplication(ctx context.Context, arg ApproveRiderApplicationParams) (RiderApplication, error)
	AssignDelivery(ctx context.Context, arg AssignDeliveryParams) (Delivery, error)
	// 自动打烊（用于定时任务）
	AutoCloseMerchants(ctx context.Context) ([]int64, error)
	BatchCreateDailyInventory(ctx context.Context, arg []BatchCreateDailyInventoryParams) (int64, error)
	BatchCreateOrderItems(ctx context.Context, arg []BatchCreateOrderItemsParams) (int64, error)
	BatchCreateRiderLocations(ctx context.Context, arg []BatchCreateRiderLocationsParams) (int64, error)
	// 批量更新菜品上下架状态（只更新属于指定商户的菜品）
	BatchUpdateDishOnlineStatus(ctx context.Context, arg BatchUpdateDishOnlineStatusParams) (int64, error)
	BlacklistUser(ctx context.Context, arg BlacklistUserParams) error
	// 商户熔断时自动取消所有未来的预订
	CancelMerchantFutureReservations(ctx context.Context, arg CancelMerchantFutureReservationsParams) (int64, error)
	CheckAndDecrementInventory(ctx context.Context, arg CheckAndDecrementInventoryParams) (DailyInventory, error)
	// =========================== 通用查询 ===========================
	// 检查索赔是否已有申诉
	CheckAppealExists(ctx context.Context, claimID int64) (bool, error)
	// 检查地址是否已被其他商户占用（排除指定用户自己的商户）
	CheckMerchantAddressExists(ctx context.Context, arg CheckMerchantAddressExistsParams) (bool, error)
	CheckNotificationExists(ctx context.Context, id string) (bool, error)
	// 检查运营商是否管理某区域
	CheckOperatorManagesRegion(ctx context.Context, arg CheckOperatorManagesRegionParams) (bool, error)
	// Check if table has any active reservation for given date and time
	CheckTableAvailability(ctx context.Context, arg CheckTableAvailabilityParams) (int64, error)
	CheckUserHasMerchantAccess(ctx context.Context, arg CheckUserHasMerchantAccessParams) (bool, error)
	CheckUserVoucherExists(ctx context.Context, arg CheckUserVoucherExistsParams) (bool, error)
	ClearBrowseHistory(ctx context.Context, userID int64) error
	ClearCart(ctx context.Context, cartID int64) error
	ClearMerchantTags(ctx context.Context, merchantID int64) error
	// 批量清空购物车（合单支付成功后）
	ClearMultipleCarts(ctx context.Context, dollar_1 []int64) error
	ConfirmFraudPattern(ctx context.Context, arg ConfirmFraudPatternParams) error
	// 确认提现完成（冻结余额转为已提现）
	ConfirmUserWithdraw(ctx context.Context, arg ConfirmUserWithdrawParams) (UserBalance, error)
	CountActiveDiscountRules(ctx context.Context, merchantID int64) (int64, error)
	// 商户查看所有评价数量（包含不可见的）
	CountAllReviewsByMerchant(ctx context.Context, merchantID int64) (int64, error)
	CountAvailableTablesByMerchant(ctx context.Context, merchantID int64) (int64, error)
	CountBrowseHistory(ctx context.Context, userID int64) (int64, error)
	CountBrowseHistoryByType(ctx context.Context, arg CountBrowseHistoryByTypeParams) (int64, error)
	CountCombinedPaymentSubOrders(ctx context.Context, combinedPaymentID int64) (int32, error)
	CountComboSetsByMerchant(ctx context.Context, arg CountComboSetsByMerchantParams) (int64, error)
	CountDeliveryPool(ctx context.Context) (int64, error)
	CountDishesByMerchant(ctx context.Context, arg CountDishesByMerchantParams) (int64, error)
	// 统计时间窗口内发起索赔的不同用户数
	CountDistinctUsersInClaimWindow(ctx context.Context, arg CountDistinctUsersInClaimWindowParams) (int64, error)
	CountEcommerceApplymentsByStatus(ctx context.Context, status string) (int64, error)
	// 统计可探索包间总数
	CountExploreNearbyRooms(ctx context.Context, arg CountExploreNearbyRoomsParams) (int64, error)
	CountFavoriteDishes(ctx context.Context, userID int64) (int64, error)
	CountFavoriteMerchants(ctx context.Context, userID int64) (int64, error)
	// 检查某桌台是否有未来的有效预定（用于删除桌台前检查）
	CountFutureReservationsByTable(ctx context.Context, tableID int64) (int64, error)
	CountIngredients(ctx context.Context, arg CountIngredientsParams) (int64, error)
	// 商户申诉计数
	CountMerchantAppealsForMerchant(ctx context.Context, appellantID int64) (int64, error)
	// 统计各状态的申请数量
	CountMerchantApplicationsByStatus(ctx context.Context, status string) (int64, error)
	// ==========================================
	// 商户异物索赔追踪查询
	// ==========================================
	// 统计商户在指定时间窗口内特定类型的索赔数量
	CountMerchantClaimsByType(ctx context.Context, arg CountMerchantClaimsByTypeParams) (int64, error)
	// 商户收到的索赔计数
	CountMerchantClaimsForMerchant(ctx context.Context, merchantID int64) (int64, error)
	// 统计商户的顾客总数
	CountMerchantCustomers(ctx context.Context, merchantID int64) (int32, error)
	CountMerchantFinanceOrders(ctx context.Context, arg CountMerchantFinanceOrdersParams) (int64, error)
	// 统计商户在某时间后特定状态的订单数
	CountMerchantOrdersByStatusAfterTime(ctx context.Context, arg CountMerchantOrdersByStatusAfterTimeParams) (int64, error)
	CountMerchantPromotionOrders(ctx context.Context, arg CountMerchantPromotionOrdersParams) (int64, error)
	CountMerchantSettlements(ctx context.Context, arg CountMerchantSettlementsParams) (int64, error)
	CountMerchantSettlementsByStatus(ctx context.Context, arg CountMerchantSettlementsByStatusParams) (int64, error)
	CountMerchantStaff(ctx context.Context, merchantID int64) (int64, error)
	// 统计区域内商户数量
	CountMerchantsByRegion(ctx context.Context, regionID int64) (int64, error)
	// 统计区域内指定状态的商户数量
	CountMerchantsByRegionWithStatus(ctx context.Context, arg CountMerchantsByRegionWithStatusParams) (int64, error)
	CountOnlineRiders(ctx context.Context) (int64, error)
	// 运营商申诉计数
	CountOperatorAppeals(ctx context.Context, arg CountOperatorAppealsParams) (int64, error)
	// 统计运营商管理的区域数量
	CountOperatorRegions(ctx context.Context, operatorID int64) (int64, error)
	CountOperators(ctx context.Context) (int64, error)
	// 统计订单被催单次数（从状态日志表查询催单记录）
	CountOrderUrges(ctx context.Context, orderID int64) (int64, error)
	CountOrdersByMerchant(ctx context.Context, merchantID int64) (int64, error)
	CountOrdersByMerchantAndStatus(ctx context.Context, arg CountOrdersByMerchantAndStatusParams) (int64, error)
	// 统计待审核申请数量
	CountPendingOperatorApplications(ctx context.Context) (int64, error)
	CountPendingPrintLogs(ctx context.Context, printerID int64) (int64, error)
	// 统计多个用户最近N天的索赔总数
	CountRecentClaimsByUsers(ctx context.Context, arg CountRecentClaimsByUsersParams) (int64, error)
	// 统计运营商区域内待人工审核的索赔数量
	CountRegionPendingClaims(ctx context.Context, regionID int64) (int64, error)
	CountReservationItems(ctx context.Context, reservationID int64) (int64, error)
	CountReservationsByMerchant(ctx context.Context, merchantID int64) (int64, error)
	CountReservationsByMerchantAndDate(ctx context.Context, arg CountReservationsByMerchantAndDateParams) (int64, error)
	CountReservationsByMerchantAndStatus(ctx context.Context, arg CountReservationsByMerchantAndStatusParams) (int64, error)
	CountReservationsByUserAndStatus(ctx context.Context, arg CountReservationsByUserAndStatusParams) (int64, error)
	CountReviewsByMerchant(ctx context.Context, merchantID int64) (int64, error)
	CountReviewsByUser(ctx context.Context, userID int64) (int64, error)
	// 骑手申诉计数
	CountRiderAppeals(ctx context.Context, appellantID int64) (int64, error)
	// 统计各状态的申请数量
	CountRiderApplicationsByStatus(ctx context.Context, status string) (int64, error)
	// 骑手收到的索赔计数
	CountRiderClaimsForRider(ctx context.Context, riderID pgtype.Int8) (int64, error)
	CountRiderCompletedDeliveries(ctx context.Context, riderID pgtype.Int8) (int64, error)
	// ==========================================
	// 骑手统计查询（保留用于统计展示）
	// ==========================================
	// 统计骑手在指定时间窗口内的餐损索赔次数
	CountRiderDamageClaims(ctx context.Context, arg CountRiderDamageClaimsParams) (int64, error)
	CountRiderDeliveries(ctx context.Context, riderID pgtype.Int8) (int64, error)
	CountRiderLocations(ctx context.Context, riderID int64) (int64, error)
	// 统计骑手高值单资格积分变更历史数量
	CountRiderPremiumScoreLogs(ctx context.Context, riderID int64) (int64, error)
	// 统计区域内骑手数量
	CountRidersByRegion(ctx context.Context, regionID pgtype.Int8) (int64, error)
	// 按区域和状态统计骑手数量
	CountRidersByRegionWithStatus(ctx context.Context, arg CountRidersByRegionWithStatusParams) (int64, error)
	CountRidersByStatus(ctx context.Context, status string) (int64, error)
	// 统计商户内菜品搜索结果总数
	CountSearchDishesByName(ctx context.Context, arg CountSearchDishesByNameParams) (int64, error)
	// 统计全局菜品搜索结果总数
	CountSearchDishesGlobal(ctx context.Context, dollar_1 pgtype.Text) (int64, error)
	CountSearchMerchants(ctx context.Context, dollar_1 pgtype.Text) (int64, error)
	// 统计搜索包间结果数量
	CountSearchRooms(ctx context.Context, arg CountSearchRoomsParams) (int64, error)
	CountTablesByMerchant(ctx context.Context, merchantID int64) (int64, error)
	CountUnreadNotifications(ctx context.Context, userID int64) (int64, error)
	CountUnusedVouchersByVoucherID(ctx context.Context, voucherID int64) (int64, error)
	CountUserAddresses(ctx context.Context, userID int64) (int64, error)
	// 统计用户余额变动日志数量
	CountUserBalanceLogs(ctx context.Context, userID int64) (int64, error)
	CountUserClaimsInPeriod(ctx context.Context, arg CountUserClaimsInPeriodParams) (int64, error)
	CountUserNotifications(ctx context.Context, arg CountUserNotificationsParams) (int64, error)
	// 统计用户近N天的索赔次数（用于行为回溯）
	CountUserRecentClaims(ctx context.Context, arg CountUserRecentClaimsParams) (int64, error)
	// ==========================================
	// 用户索赔行为回溯查询（新设计）
	// ==========================================
	// 统计用户近N天的外卖订单数（用于行为回溯）
	CountUserRecentTakeoutOrders(ctx context.Context, arg CountUserRecentTakeoutOrdersParams) (int64, error)
	CountUserVouchersByStatus(ctx context.Context, userID int64) (CountUserVouchersByStatusRow, error)
	// =====================================================================
	// Appeal Queries - 申诉相关查询
	// =====================================================================
	// =========================== 商户申诉 ===========================
	// 创建申诉
	CreateAppeal(ctx context.Context, arg CreateAppealParams) (Appeal, error)
	// ==================== 商户营业时间 ====================
	CreateBusinessHour(ctx context.Context, arg CreateBusinessHourParams) (MerchantBusinessHour, error)
	CreateCart(ctx context.Context, arg CreateCartParams) (Cart, error)
	// ==========================================
	// claims（索赔记录）
	// ==========================================
	CreateClaim(ctx context.Context, arg CreateClaimParams) (Claim, error)
	CreateCloudPrinter(ctx context.Context, arg CreateCloudPrinterParams) (CloudPrinter, error)
	// ==================== 合单支付主表查询 ====================
	CreateCombinedPaymentOrder(ctx context.Context, arg CreateCombinedPaymentOrderParams) (CombinedPaymentOrder, error)
	// ==================== 合单支付子订单查询 ====================
	CreateCombinedPaymentSubOrder(ctx context.Context, arg CreateCombinedPaymentSubOrderParams) (CombinedPaymentSubOrder, error)
	// ============================================
	// 套餐查询 (Combo Queries)
	// ============================================
	CreateComboSet(ctx context.Context, arg CreateComboSetParams) (ComboSet, error)
	// ============================================
	// 库存管理查询 (Inventory Queries)
	// ============================================
	CreateDailyInventory(ctx context.Context, arg CreateDailyInventoryParams) (DailyInventory, error)
	CreateDelivery(ctx context.Context, arg CreateDeliveryParams) (Delivery, error)
	CreateDeliveryFeeConfig(ctx context.Context, arg CreateDeliveryFeeConfigParams) (DeliveryFeeConfig, error)
	CreateDeliveryPromotion(ctx context.Context, arg CreateDeliveryPromotionParams) (MerchantDeliveryPromotion, error)
	// Discount Rules (满减规则)
	CreateDiscountRule(ctx context.Context, arg CreateDiscountRuleParams) (DiscountRule, error)
	// ============================================
	// 菜品查询 (Dish Queries)
	// ============================================
	CreateDish(ctx context.Context, arg CreateDishParams) (Dish, error)
	CreateDishCategory(ctx context.Context, name string) (DishCategory, error)
	// ============================================
	// 菜品定制选项查询 (Dish Customization Queries)
	// ============================================
	CreateDishCustomizationGroup(ctx context.Context, arg CreateDishCustomizationGroupParams) (DishCustomizationGroup, error)
	CreateDishCustomizationOption(ctx context.Context, arg CreateDishCustomizationOptionParams) (DishCustomizationOption, error)
	CreateEcommerceApplyment(ctx context.Context, arg CreateEcommerceApplymentParams) (EcommerceApplyment, error)
	// ==========================================
	// food_safety_incidents（食品安全事件）
	// ==========================================
	CreateFoodSafetyIncident(ctx context.Context, arg CreateFoodSafetyIncidentParams) (FoodSafetyIncident, error)
	// ==========================================
	// fraud_patterns（欺诈模式检测）
	// ==========================================
	CreateFraudPattern(ctx context.Context, arg CreateFraudPatternParams) (FraudPattern, error)
	// ============================================
	// 食材管理查询 (Ingredient Queries)
	// ============================================
	CreateIngredient(ctx context.Context, arg CreateIngredientParams) (Ingredient, error)
	// Membership Transactions
	CreateMembershipTransaction(ctx context.Context, arg CreateMembershipTransactionParams) (MembershipTransaction, error)
	// ==================== 商户管理 ====================
	CreateMerchant(ctx context.Context, arg CreateMerchantParams) (Merchant, error)
	// ==================== 商户入驻申请 ====================
	CreateMerchantApplication(ctx context.Context, arg CreateMerchantApplicationParams) (MerchantApplication, error)
	// ==================== 商户入驻申请（草稿模式+自动审核） ====================
	// 创建商户申请草稿（仅需用户ID）
	CreateMerchantApplicationDraft(ctx context.Context, userID int64) (MerchantApplication, error)
	CreateMerchantMembership(ctx context.Context, arg CreateMerchantMembershipParams) (MerchantMembership, error)
	CreateMerchantMembershipSettings(ctx context.Context, arg CreateMerchantMembershipSettingsParams) (MerchantMembershipSetting, error)
	CreateMerchantPaymentConfig(ctx context.Context, arg CreateMerchantPaymentConfigParams) (MerchantPaymentConfig, error)
	// ==========================================
	// merchant_profiles（商户信任画像）
	// ==========================================
	CreateMerchantProfile(ctx context.Context, arg CreateMerchantProfileParams) (MerchantProfile, error)
	// 商户员工管理查询
	CreateMerchantStaff(ctx context.Context, arg CreateMerchantStaffParams) (MerchantStaff, error)
	CreateNotification(ctx context.Context, arg CreateNotificationParams) (Notification, error)
	CreateOperator(ctx context.Context, arg CreateOperatorParams) (Operator, error)
	// ==================== 运营商入驻申请（草稿模式+人工审核） ====================
	// 创建运营商申请草稿（需要用户ID和区域ID）
	CreateOperatorApplicationDraft(ctx context.Context, arg CreateOperatorApplicationDraftParams) (OperatorApplication, error)
	CreateOrder(ctx context.Context, arg CreateOrderParams) (Order, error)
	CreateOrderDisplayConfig(ctx context.Context, arg CreateOrderDisplayConfigParams) (OrderDisplayConfig, error)
	CreateOrderItem(ctx context.Context, arg CreateOrderItemParams) (OrderItem, error)
	CreateOrderStatusLog(ctx context.Context, arg CreateOrderStatusLogParams) (OrderStatusLog, error)
	CreatePaymentOrder(ctx context.Context, arg CreatePaymentOrderParams) (PaymentOrder, error)
	CreatePeakHourConfig(ctx context.Context, arg CreatePeakHourConfigParams) (PeakHourConfig, error)
	CreatePrintLog(ctx context.Context, arg CreatePrintLogParams) (PrintLog, error)
	CreateProfitSharingOrder(ctx context.Context, arg CreateProfitSharingOrderParams) (ProfitSharingOrder, error)
	// 简化版创建（不含骑手分账，用于堂食/自提订单）
	CreateProfitSharingOrderSimple(ctx context.Context, arg CreateProfitSharingOrderSimpleParams) (ProfitSharingOrder, error)
	// Recharge Rules
	CreateRechargeRule(ctx context.Context, arg CreateRechargeRuleParams) (RechargeRule, error)
	CreateRecommendConfig(ctx context.Context, arg CreateRecommendConfigParams) (RecommendConfig, error)
	CreateRefundOrder(ctx context.Context, arg CreateRefundOrderParams) (RefundOrder, error)
	CreateRegion(ctx context.Context, arg CreateRegionParams) (Region, error)
	CreateReservationItem(ctx context.Context, arg CreateReservationItemParams) (ReservationItem, error)
	CreateReview(ctx context.Context, arg CreateReviewParams) (Review, error)
	CreateRider(ctx context.Context, arg CreateRiderParams) (Rider, error)
	// 创建骑手申请草稿
	CreateRiderApplication(ctx context.Context, userID int64) (RiderApplication, error)
	CreateRiderDeposit(ctx context.Context, arg CreateRiderDepositParams) (RiderDeposit, error)
	CreateRiderLocation(ctx context.Context, arg CreateRiderLocationParams) (RiderLocation, error)
	// 创建高值单资格积分变更日志
	CreateRiderPremiumScoreLog(ctx context.Context, arg CreateRiderPremiumScoreLogParams) (RiderPremiumScoreLog, error)
	// ==========================================
	// rider_profiles（骑手信任画像）
	// ==========================================
	CreateRiderProfile(ctx context.Context, arg CreateRiderProfileParams) (RiderProfile, error)
	CreateSession(ctx context.Context, arg CreateSessionParams) (Session, error)
	CreateTable(ctx context.Context, arg CreateTableParams) (Table, error)
	CreateTableReservation(ctx context.Context, arg CreateTableReservationParams) (TableReservation, error)
	// 商户代客创建预订（无需支付，直接 confirmed 状态）
	CreateTableReservationByMerchant(ctx context.Context, arg CreateTableReservationByMerchantParams) (TableReservation, error)
	CreateTag(ctx context.Context, arg CreateTagParams) (Tag, error)
	// ==========================================
	// trust_score_changes（信任分变更日志）
	// ==========================================
	CreateTrustScoreChange(ctx context.Context, arg CreateTrustScoreChangeParams) (TrustScoreChange, error)
	CreateUser(ctx context.Context, arg CreateUserParams) (User, error)
	CreateUserAddress(ctx context.Context, arg CreateUserAddressParams) (UserAddress, error)
	// 创建用户余额账户
	CreateUserBalance(ctx context.Context, userID int64) (UserBalance, error)
	// ==========================================
	// 用户余额日志相关查询
	// ==========================================
	// 创建余额变动日志
	CreateUserBalanceLog(ctx context.Context, arg CreateUserBalanceLogParams) (UserBalanceLog, error)
	// 创建用户索赔警告记录
	CreateUserClaimWarning(ctx context.Context, arg CreateUserClaimWarningParams) (UserClaimWarning, error)
	CreateUserNotificationPreferences(ctx context.Context, arg CreateUserNotificationPreferencesParams) (UserNotificationPreference, error)
	// M9: TrustScore信任分系统查询
	// 设计理念：信用驱动，非证据驱动
	// ==========================================
	// user_profiles（顾客信任画像）
	// ==========================================
	CreateUserProfile(ctx context.Context, arg CreateUserProfileParams) (UserProfile, error)
	CreateUserRole(ctx context.Context, arg CreateUserRoleParams) (UserRole, error)
	// User Vouchers (用户已领取的代金券)
	CreateUserVoucher(ctx context.Context, arg CreateUserVoucherParams) (UserVoucher, error)
	// Vouchers (代金券模板)
	CreateVoucher(ctx context.Context, arg CreateVoucherParams) (Voucher, error)
	CreateWeatherCoefficient(ctx context.Context, arg CreateWeatherCoefficientParams) (WeatherCoefficient, error)
	CreateWechatNotification(ctx context.Context, arg CreateWechatNotificationParams) (WechatNotification, error)
	DecrementMembershipBalance(ctx context.Context, arg DecrementMembershipBalanceParams) (MerchantMembership, error)
	// 从骑手押金扣款（原子操作：检查余额 + 扣款）
	DeductRiderDeposit(ctx context.Context, arg DeductRiderDepositParams) (Rider, error)
	// 扣减用户余额（出账，余额不足会报错）
	DeductUserBalance(ctx context.Context, arg DeductUserBalanceParams) (UserBalance, error)
	DeleteAllDishCustomizationGroups(ctx context.Context, dishID int64) error
	DeleteAllTableImages(ctx context.Context, tableID int64) error
	DeleteBrowseHistory(ctx context.Context, arg DeleteBrowseHistoryParams) error
	DeleteBusinessHour(ctx context.Context, id int64) error
	DeleteCart(ctx context.Context, id int64) error
	DeleteCartItem(ctx context.Context, id int64) error
	DeleteCloudPrinter(ctx context.Context, id int64) error
	// 软删除套餐
	DeleteComboSet(ctx context.Context, id int64) error
	DeleteDailyInventory(ctx context.Context, arg DeleteDailyInventoryParams) error
	DeleteDeliveryFeeConfig(ctx context.Context, id int64) error
	DeleteDeliveryPromotion(ctx context.Context, id int64) error
	DeleteDeliveryPromotionsByMerchant(ctx context.Context, merchantID int64) error
	// 软删除满减规则
	DeleteDiscountRule(ctx context.Context, id int64) error
	// 软删除菜品
	DeleteDish(ctx context.Context, id int64) error
	DeleteDishCustomizationGroup(ctx context.Context, id int64) error
	DeleteDishCustomizationOption(ctx context.Context, id int64) error
	// 删除指定标签的所有菜品关联（用于清理过期的自动标签）
	DeleteDishTagByTagID(ctx context.Context, tagID int64) error
	DeleteExpiredNotifications(ctx context.Context) error
	DeleteExpiredRecommendations(ctx context.Context) error
	DeleteExpiredSessions(ctx context.Context) error
	DeleteIngredient(ctx context.Context, id int64) error
	// 软删除商户
	DeleteMerchant(ctx context.Context, id int64) error
	DeleteMerchantBusinessHours(ctx context.Context, merchantID int64) error
	DeleteMerchantPaymentConfig(ctx context.Context, merchantID int64) error
	DeleteMerchantStaff(ctx context.Context, id int64) error
	DeleteMerchantStaffByMerchant(ctx context.Context, merchantID int64) error
	DeleteNotification(ctx context.Context, arg DeleteNotificationParams) error
	DeleteOldInventory(ctx context.Context, date pgtype.Date) error
	DeleteOldRiderLocations(ctx context.Context, recordedAt time.Time) error
	DeleteOldWeatherCoefficients(ctx context.Context, recordedAt time.Time) error
	// 删除30天前的通知记录（数据清理）
	DeleteOldWechatNotifications(ctx context.Context) error
	DeleteOrderItems(ctx context.Context, orderID int64) error
	DeletePeakHourConfig(ctx context.Context, id int64) error
	DeletePeakHourConfigsByRegion(ctx context.Context, regionID int64) error
	DeleteReadNotifications(ctx context.Context, userID int64) error
	DeleteRechargeRule(ctx context.Context, id int64) error
	DeleteRegion(ctx context.Context, id int64) error
	DeleteReservationItems(ctx context.Context, reservationID int64) error
	DeleteReview(ctx context.Context, id int64) error
	DeleteTable(ctx context.Context, id int64) error
	DeleteTableImage(ctx context.Context, id int64) error
	DeleteTag(ctx context.Context, id int64) error
	DeleteUserAddress(ctx context.Context, arg DeleteUserAddressParams) error
	DeleteUserRole(ctx context.Context, id int64) error
	// 软删除代金券模板
	DeleteVoucher(ctx context.Context, id int64) error
	// 探索附近包间（无需指定预订日期时段），用于本地包间浏览流
	// 返回包间信息 + 商户信息 + 主图 + 近30天预订量
	ExploreNearbyRooms(ctx context.Context, arg ExploreNearbyRoomsParams) ([]ExploreNearbyRoomsRow, error)
	// 冻结用户余额（提现申请时）
	FreezeUserBalance(ctx context.Context, arg FreezeUserBalanceParams) (UserBalance, error)
	GetActiveDeliveryFeeConfigByRegion(ctx context.Context, regionID int64) (DeliveryFeeConfig, error)
	GetActiveFoodSafetyIncidents(ctx context.Context, limit int32) ([]FoodSafetyIncident, error)
	// 根据区域获取运营商（通过operator_regions表，支持多区域）
	GetActiveOperatorByRegion(ctx context.Context, regionID int64) (Operator, error)
	GetActiveRecommendConfig(ctx context.Context) (RecommendConfig, error)
	GetAllRecommendationConfigs(ctx context.Context) ([]RecommendationConfig, error)
	// 获取申诉详情
	GetAppeal(ctx context.Context, id int64) (Appeal, error)
	// 根据索赔ID获取申诉
	GetAppealByClaim(ctx context.Context, claimID int64) (Appeal, error)
	// 获取申诉审核后处理所需信息
	GetAppealForPostProcess(ctx context.Context, id int64) (GetAppealForPostProcessRow, error)
	// 获取申诉详情（包含索赔和订单信息）
	GetAppealWithDetails(ctx context.Context, id int64) (GetAppealWithDetailsRow, error)
	GetApplicableDiscountRules(ctx context.Context, arg GetApplicableDiscountRulesParams) ([]DiscountRule, error)
	// 获取用户审核通过的运营商申请（用于绑卡开户）
	GetApprovedOperatorApplicationByUserID(ctx context.Context, userID int64) (OperatorApplication, error)
	// 获取满足订单金额条件的最优促销（减免金额最大的那条）
	GetBestDeliveryPromotion(ctx context.Context, arg GetBestDeliveryPromotionParams) (MerchantDeliveryPromotion, error)
	GetBestDiscountRule(ctx context.Context, arg GetBestDiscountRuleParams) (DiscountRule, error)
	GetBusinessHour(ctx context.Context, id int64) (MerchantBusinessHour, error)
	GetBusinessHourByDate(ctx context.Context, arg GetBusinessHourByDateParams) (MerchantBusinessHour, error)
	GetBusinessHourByDayOfWeek(ctx context.Context, arg GetBusinessHourByDayOfWeekParams) (MerchantBusinessHour, error)
	GetCart(ctx context.Context, id int64) (Cart, error)
	GetCartByUserAndMerchant(ctx context.Context, arg GetCartByUserAndMerchantParams) (Cart, error)
	GetCartItem(ctx context.Context, id int64) (GetCartItemRow, error)
	GetCartItemByCombo(ctx context.Context, arg GetCartItemByComboParams) (CartItem, error)
	GetCartItemByDishAndCustomizations(ctx context.Context, arg GetCartItemByDishAndCustomizationsParams) (CartItem, error)
	GetCartWithItems(ctx context.Context, arg GetCartWithItemsParams) (GetCartWithItemsRow, error)
	// 分类销售统计
	GetCategoryStats(ctx context.Context, arg GetCategoryStatsParams) ([]GetCategoryStatsRow, error)
	GetClaim(ctx context.Context, id int64) (Claim, error)
	// 获取索赔信息（用于创建申诉时验证）
	GetClaimForAppeal(ctx context.Context, id int64) (GetClaimForAppealRow, error)
	GetClaimForUpdate(ctx context.Context, id int64) (Claim, error)
	// 获取索赔详情（包含订单、商户、用户信息）
	GetClaimWithDetails(ctx context.Context, id int64) (GetClaimWithDetailsRow, error)
	// ==========================================
	// 欺诈处理：损失返还
	// ==========================================
	// 获取欺诈模式关联的所有索赔详情
	GetClaimsByFraudPattern(ctx context.Context, dollar_1 []int64) ([]GetClaimsByFraudPatternRow, error)
	// 查询使用相同配送地址的索赔
	GetClaimsWithSameAddress(ctx context.Context, arg GetClaimsWithSameAddressParams) ([]GetClaimsWithSameAddressRow, error)
	// 根据经纬度获取最近的区县级区域
	GetClosestRegion(ctx context.Context, arg GetClosestRegionParams) (Region, error)
	GetCloudPrinter(ctx context.Context, id int64) (CloudPrinter, error)
	GetCloudPrinterBySN(ctx context.Context, printerSn string) (CloudPrinter, error)
	GetCombinedPaymentOrder(ctx context.Context, id int64) (CombinedPaymentOrder, error)
	GetCombinedPaymentOrderByOutTradeNo(ctx context.Context, combineOutTradeNo string) (CombinedPaymentOrder, error)
	GetCombinedPaymentOrderForUpdate(ctx context.Context, id int64) (CombinedPaymentOrder, error)
	// ==================== 合单支付完整信息查询 ====================
	// 获取合单支付完整信息（主单+所有子单）
	GetCombinedPaymentOrderWithSubOrders(ctx context.Context, id int64) (GetCombinedPaymentOrderWithSubOrdersRow, error)
	GetCombinedPaymentSubOrder(ctx context.Context, id int64) (CombinedPaymentSubOrder, error)
	GetCombinedPaymentSubOrderByOutTradeNo(ctx context.Context, outTradeNo string) (CombinedPaymentSubOrder, error)
	// 根据订单ID查询其所有合单子单（一个订单可能参与多次合单支付尝试）
	GetCombinedPaymentSubOrdersByOrder(ctx context.Context, orderID int64) ([]CombinedPaymentSubOrder, error)
	GetComboSet(ctx context.Context, id int64) (ComboSet, error)
	GetComboSetWithDetails(ctx context.Context, id int64) (GetComboSetWithDetailsRow, error)
	// 批量获取套餐详情
	GetCombosByIDs(ctx context.Context, dollar_1 []int64) ([]GetCombosByIDsRow, error)
	// 批量获取套餐详情及商户信息（用于推荐流展示）
	GetCombosWithMerchantByIDs(ctx context.Context, dollar_1 []int64) ([]GetCombosWithMerchantByIDsRow, error)
	// 查询顾客最喜欢的菜品
	GetCustomerFavoriteDishes(ctx context.Context, arg GetCustomerFavoriteDishesParams) ([]GetCustomerFavoriteDishesRow, error)
	// 单个顾客在某商户的消费详情
	GetCustomerMerchantDetail(ctx context.Context, arg GetCustomerMerchantDetailParams) (GetCustomerMerchantDetailRow, error)
	GetDailyInventory(ctx context.Context, arg GetDailyInventoryParams) (DailyInventory, error)
	GetDailyInventoryForUpdate(ctx context.Context, arg GetDailyInventoryForUpdateParams) (DailyInventory, error)
	GetDelivery(ctx context.Context, id int64) (Delivery, error)
	GetDeliveryByOrderID(ctx context.Context, orderID int64) (Delivery, error)
	GetDeliveryFeeConfig(ctx context.Context, id int64) (DeliveryFeeConfig, error)
	GetDeliveryFeeConfigByRegion(ctx context.Context, regionID int64) (DeliveryFeeConfig, error)
	GetDeliveryForUpdate(ctx context.Context, id int64) (Delivery, error)
	GetDeliveryLatestLocation(ctx context.Context, deliveryID pgtype.Int8) (RiderLocation, error)
	GetDeliveryPoolByOrderID(ctx context.Context, orderID int64) (DeliveryPool, error)
	GetDeliveryPoolItem(ctx context.Context, id int64) (DeliveryPool, error)
	GetDeliveryPoolItemForUpdate(ctx context.Context, id int64) (DeliveryPool, error)
	GetDeliveryPromotion(ctx context.Context, id int64) (MerchantDeliveryPromotion, error)
	GetDevicesByUserID(ctx context.Context, userID int64) ([]UserDevice, error)
	GetDiscountRule(ctx context.Context, id int64) (DiscountRule, error)
	GetDish(ctx context.Context, id int64) (Dish, error)
	GetDishCategory(ctx context.Context, id int64) (DishCategory, error)
	// ============================================
	// 菜品分类查询 (Dish Category Queries)
	// ============================================
	GetDishCategoryByName(ctx context.Context, name string) (DishCategory, error)
	// 菜品分类销售统计
	GetDishCategoryStats(ctx context.Context, arg GetDishCategoryStatsParams) ([]GetDishCategoryStatsRow, error)
	GetDishComplete(ctx context.Context, id int64) (GetDishCompleteRow, error)
	// 根据菜系获取菜品ID（用于基于偏好推荐）
	// 注：当前merchants表无cuisine_type字段，简化为按价格区间查询热门菜品
	GetDishIDsByCuisines(ctx context.Context, arg GetDishIDsByCuisinesParams) ([]int64, error)
	// 获取带有指定标签的菜品ID列表（用于推荐过滤）
	GetDishIDsByTagID(ctx context.Context, tagID int64) ([]int64, error)
	// 获取有指定标签的所有菜品ID
	GetDishIDsWithTag(ctx context.Context, tagID int64) ([]int64, error)
	// 获取单个菜品的复购率（用于过滤）
	GetDishRepurchaseRate(ctx context.Context, dishID pgtype.Int8) (GetDishRepurchaseRateRow, error)
	GetDishWithCustomizations(ctx context.Context, id int64) (GetDishWithCustomizationsRow, error)
	GetDishWithDetails(ctx context.Context, id int64) (GetDishWithDetailsRow, error)
	// 批量获取菜品详情（用于推荐结果）
	GetDishesByIDs(ctx context.Context, dollar_1 []int64) ([]GetDishesByIDsRow, error)
	// 批量获取菜品（不过滤上下架状态，用于权限验证等）
	GetDishesByIDsAll(ctx context.Context, dollar_1 []int64) ([]GetDishesByIDsAllRow, error)
	// 批量获取菜品详情及商户信息（用于推荐流展示）
	// 返回菜品信息、商户信息、近30天销量
	GetDishesWithMerchantByIDs(ctx context.Context, dollar_1 []int64) ([]GetDishesWithMerchantByIDsRow, error)
	GetEcommerceApplyment(ctx context.Context, id int64) (EcommerceApplyment, error)
	GetEcommerceApplymentByApplymentID(ctx context.Context, applymentID pgtype.Int8) (EcommerceApplyment, error)
	GetEcommerceApplymentByOutRequestNo(ctx context.Context, outRequestNo string) (EcommerceApplyment, error)
	GetEcommerceApplymentBySubject(ctx context.Context, arg GetEcommerceApplymentBySubjectParams) (EcommerceApplyment, error)
	// 获取用户未购买过的热门菜品（探索推荐）
	GetExploreDishes(ctx context.Context, arg GetExploreDishesParams) ([]GetExploreDishesRow, error)
	GetFoodSafetyIncident(ctx context.Context, id int64) (FoodSafetyIncident, error)
	GetFraudPattern(ctx context.Context, id int64) (FraudPattern, error)
	GetFraudPatternsByDevice(ctx context.Context, arg GetFraudPatternsByDeviceParams) ([]FraudPattern, error)
	GetFraudPatternsByUsers(ctx context.Context, dollar_1 []int64) ([]FraudPattern, error)
	// 获取热卖菜品ID列表（近7天销量 >= 指定阈值）
	GetHotSellingDishIDs(ctx context.Context, quantity int16) ([]int64, error)
	// 订单时段分布
	GetHourlyDistribution(ctx context.Context, arg GetHourlyDistributionParams) ([]GetHourlyDistributionRow, error)
	GetIngredient(ctx context.Context, id int64) (Ingredient, error)
	GetInventoryStats(ctx context.Context, arg GetInventoryStatsParams) (GetInventoryStatsRow, error)
	GetLatestEcommerceApplymentBySubject(ctx context.Context, arg GetLatestEcommerceApplymentBySubjectParams) (EcommerceApplyment, error)
	GetLatestPaymentOrderByOrder(ctx context.Context, orderID pgtype.Int8) (PaymentOrder, error)
	GetLatestPaymentOrderByReservation(ctx context.Context, reservationID pgtype.Int8) (PaymentOrder, error)
	GetLatestRecommendations(ctx context.Context, userID int64) (Recommendation, error)
	GetLatestWeatherCoefficient(ctx context.Context, regionID int64) (WeatherCoefficient, error)
	GetMaliciousClaims(ctx context.Context, createdAt time.Time) ([]Claim, error)
	GetMatchingRechargeRule(ctx context.Context, arg GetMatchingRechargeRuleParams) (RechargeRule, error)
	GetMembershipByMerchantAndUser(ctx context.Context, arg GetMembershipByMerchantAndUserParams) (MerchantMembership, error)
	GetMembershipByMerchantAndUserForUpdate(ctx context.Context, arg GetMembershipByMerchantAndUserForUpdateParams) (MerchantMembership, error)
	GetMembershipForUpdate(ctx context.Context, id int64) (MerchantMembership, error)
	GetMembershipTransaction(ctx context.Context, id int64) (MembershipTransaction, error)
	GetMembershipTransactionStats(ctx context.Context, membershipID int64) (GetMembershipTransactionStatsRow, error)
	GetMerchant(ctx context.Context, id int64) (Merchant, error)
	// 商户查看自己的申诉详情
	GetMerchantAppealDetail(ctx context.Context, arg GetMerchantAppealDetailParams) (GetMerchantAppealDetailRow, error)
	GetMerchantApplication(ctx context.Context, id int64) (MerchantApplication, error)
	GetMerchantApplicationByLicenseNumber(ctx context.Context, businessLicenseNumber string) (MerchantApplication, error)
	// 获取用户的草稿或可编辑申请（包含所有状态，以便随时编辑）
	GetMerchantApplicationDraft(ctx context.Context, userID int64) (MerchantApplication, error)
	// 计算商户近N天的平均出餐时间（分钟）
	// 通过订单支付时间到状态变为ready的时间差计算
	GetMerchantAvgPrepareTime(ctx context.Context, arg GetMerchantAvgPrepareTimeParams) (int64, error)
	GetMerchantByOwner(ctx context.Context, ownerUserID int64) (Merchant, error)
	// 商户查看索赔详情
	GetMerchantClaimDetailForMerchant(ctx context.Context, arg GetMerchantClaimDetailForMerchantParams) (GetMerchantClaimDetailForMerchantRow, error)
	// 顾客消费分析: 实时计算每个顾客的消费统计
	GetMerchantCustomerStats(ctx context.Context, arg GetMerchantCustomerStatsParams) ([]GetMerchantCustomerStatsRow, error)
	// 商户每日财务汇总
	GetMerchantDailyFinance(ctx context.Context, arg GetMerchantDailyFinanceParams) ([]GetMerchantDailyFinanceRow, error)
	// 商户每日满返支出汇总
	GetMerchantDailyPromotionExpenses(ctx context.Context, arg GetMerchantDailyPromotionExpensesParams) ([]GetMerchantDailyPromotionExpensesRow, error)
	// M12: 商户统计查询 (实时计算)
	// 商户日报: 按天聚合订单数据
	GetMerchantDailyStats(ctx context.Context, arg GetMerchantDailyStatsParams) ([]GetMerchantDailyStatsRow, error)
	GetMerchantDishCategory(ctx context.Context, arg GetMerchantDishCategoryParams) (MerchantDishCategory, error)
	// 商户财务概览：统计收入、服务费、净收入
	GetMerchantFinanceOverview(ctx context.Context, arg GetMerchantFinanceOverviewParams) (GetMerchantFinanceOverviewRow, error)
	// 商户增长统计
	GetMerchantGrowthStats(ctx context.Context, arg GetMerchantGrowthStatsParams) ([]GetMerchantGrowthStatsRow, error)
	// 商户时段分析: 按小时统计订单分布
	GetMerchantHourlyStats(ctx context.Context, arg GetMerchantHourlyStatsParams) ([]GetMerchantHourlyStatsRow, error)
	// 获取商户营业状态
	GetMerchantIsOpen(ctx context.Context, id int64) (GetMerchantIsOpenRow, error)
	GetMerchantMembership(ctx context.Context, id int64) (MerchantMembership, error)
	// 商户会员设置查询
	GetMerchantMembershipSettings(ctx context.Context, merchantID int64) (MerchantMembershipSetting, error)
	// 订单来源分析
	GetMerchantOrderSourceStats(ctx context.Context, arg GetMerchantOrderSourceStatsParams) ([]GetMerchantOrderSourceStatsRow, error)
	// 商户概览: 指定日期范围的汇总统计
	GetMerchantOverview(ctx context.Context, arg GetMerchantOverviewParams) (GetMerchantOverviewRow, error)
	GetMerchantPaymentConfig(ctx context.Context, merchantID int64) (MerchantPaymentConfig, error)
	GetMerchantPaymentConfigBySubMchID(ctx context.Context, subMchID string) (MerchantPaymentConfig, error)
	GetMerchantProfile(ctx context.Context, merchantID int64) (MerchantProfile, error)
	GetMerchantProfileForUpdate(ctx context.Context, merchantID int64) (MerchantProfile, error)
	GetMerchantProfitSharingStats(ctx context.Context, arg GetMerchantProfitSharingStatsParams) (GetMerchantProfitSharingStatsRow, error)
	// ==================== 商户财务相关查询 ====================
	// 统计商户满返运费支出
	GetMerchantPromotionExpenses(ctx context.Context, arg GetMerchantPromotionExpensesParams) (GetMerchantPromotionExpensesRow, error)
	// 商户销售排行
	GetMerchantRanking(ctx context.Context, arg GetMerchantRankingParams) ([]GetMerchantRankingRow, error)
	GetMerchantRecentFoodSafetyReports(ctx context.Context, merchantID int64) ([]FoodSafetyIncident, error)
	// 复购率分析
	// 注意: repurchase_rate_percent 返回万分比(如 7550 表示 75.50%)，API层需除以100
	// 注意: avg_orders_per_user 返回百分比形式(如 235 表示 2.35次)，API层需除以100
	GetMerchantRepurchaseRate(ctx context.Context, arg GetMerchantRepurchaseRateParams) (GetMerchantRepurchaseRateRow, error)
	// 商户服务费明细
	GetMerchantServiceFeeDetail(ctx context.Context, arg GetMerchantServiceFeeDetailParams) ([]GetMerchantServiceFeeDetailRow, error)
	GetMerchantStaff(ctx context.Context, arg GetMerchantStaffParams) (MerchantStaff, error)
	GetMerchantStaffByID(ctx context.Context, id int64) (MerchantStaff, error)
	// ==================== 高级查询（使用JOIN和聚合）====================
	GetMerchantWithTags(ctx context.Context, id int64) (GetMerchantWithTagsRow, error)
	// 批量获取商户详情
	GetMerchantsByIDs(ctx context.Context, dollar_1 []int64) ([]GetMerchantsByIDsRow, error)
	// 批量获取商户详情及统计数据（用于推荐流展示）
	GetMerchantsWithStatsByIDs(ctx context.Context, dollar_1 []int64) ([]GetMerchantsWithStatsByIDsRow, error)
	GetNotification(ctx context.Context, id int64) (Notification, error)
	GetNotificationsByRelated(ctx context.Context, arg GetNotificationsByRelatedParams) ([]Notification, error)
	GetOperator(ctx context.Context, id int64) (Operator, error)
	// 运营商查看申诉详情
	GetOperatorAppealDetail(ctx context.Context, arg GetOperatorAppealDetailParams) (GetOperatorAppealDetailRow, error)
	// 通过ID获取申请
	GetOperatorApplicationByID(ctx context.Context, id int64) (OperatorApplication, error)
	// 获取用户的任意状态申请
	GetOperatorApplicationByUserID(ctx context.Context, userID int64) (OperatorApplication, error)
	// 获取用户的草稿或可编辑申请（排除已通过的）
	GetOperatorApplicationDraft(ctx context.Context, userID int64) (OperatorApplication, error)
	GetOperatorByRegion(ctx context.Context, regionID int64) (Operator, error)
	GetOperatorByUser(ctx context.Context, userID int64) (Operator, error)
	// 运营商区域内商户排行（基于实际分账数据）
	GetOperatorMerchantRanking(ctx context.Context, arg GetOperatorMerchantRankingParams) ([]GetOperatorMerchantRankingRow, error)
	GetOperatorProfitSharingStats(ctx context.Context, arg GetOperatorProfitSharingStatsParams) (GetOperatorProfitSharingStatsRow, error)
	GetOperatorRegion(ctx context.Context, arg GetOperatorRegionParams) (OperatorRegion, error)
	// 运营商区域内骑手绩效排行(通过配送订单关联区域)
	GetOperatorRiderRanking(ctx context.Context, arg GetOperatorRiderRankingParams) ([]GetOperatorRiderRankingRow, error)
	// 获取或创建用户余额账户（原子操作）
	GetOrCreateUserBalance(ctx context.Context, userID int64) (UserBalance, error)
	GetOrCreateUserNotificationPreferences(ctx context.Context, userID int64) (UserNotificationPreference, error)
	GetOrder(ctx context.Context, id int64) (Order, error)
	GetOrderByOrderNo(ctx context.Context, orderNo string) (Order, error)
	GetOrderDisplayConfig(ctx context.Context, id int64) (OrderDisplayConfig, error)
	GetOrderDisplayConfigByMerchant(ctx context.Context, merchantID int64) (OrderDisplayConfig, error)
	GetOrderForUpdate(ctx context.Context, id int64) (Order, error)
	GetOrderItem(ctx context.Context, id int64) (OrderItem, error)
	GetOrderStats(ctx context.Context, arg GetOrderStatsParams) (GetOrderStatsRow, error)
	GetOrderWithDetails(ctx context.Context, id int64) (GetOrderWithDetailsRow, error)
	// ==========================================
	// 回溯检查专用查询
	// ==========================================
	GetOrdersMerchantAndRider(ctx context.Context, dollar_1 []int64) ([]GetOrdersMerchantAndRiderRow, error)
	GetPaymentOrder(ctx context.Context, id int64) (PaymentOrder, error)
	GetPaymentOrderByOutTradeNo(ctx context.Context, outTradeNo string) (PaymentOrder, error)
	GetPaymentOrderByTransactionId(ctx context.Context, transactionID pgtype.Text) (PaymentOrder, error)
	GetPaymentOrderForUpdate(ctx context.Context, id int64) (PaymentOrder, error)
	GetPaymentOrdersByOrder(ctx context.Context, orderID pgtype.Int8) ([]PaymentOrder, error)
	GetPaymentOrdersByReservation(ctx context.Context, reservationID pgtype.Int8) ([]PaymentOrder, error)
	GetPeakHourConfig(ctx context.Context, id int64) (PeakHourConfig, error)
	GetPendingClaims(ctx context.Context, limit int32) ([]Claim, error)
	// 检查区域是否有待审核或已通过的申请（用于区域独占检查）
	GetPendingOperatorApplicationByRegion(ctx context.Context, regionID int64) (OperatorApplication, error)
	// 平台日统计
	GetPlatformDailyStats(ctx context.Context, arg GetPlatformDailyStatsParams) ([]GetPlatformDailyStatsRow, error)
	// M12: 平台端统计查询
	// 平台全局概览
	GetPlatformOverview(ctx context.Context, arg GetPlatformOverviewParams) (GetPlatformOverviewRow, error)
	// ============================================
	// 套餐推荐查询
	// ============================================
	// 获取热门套餐（基于销量）
	GetPopularCombos(ctx context.Context, limit int32) ([]GetPopularCombosRow, error)
	// ============================================
	// 推荐系统查询 (Recommendation Queries)
	// ============================================
	// 获取全平台热门菜品（基于销量）
	GetPopularDishes(ctx context.Context, limit int32) ([]GetPopularDishesRow, error)
	// ============================================
	// 商户推荐查询
	// ============================================
	// 获取热门商户（基于整体销量和评分）
	// 销量 = 外卖 + 堂食 + 预定，高销量意味着回头客多，是最重要的排序因子
	GetPopularMerchants(ctx context.Context, limit int32) ([]GetPopularMerchantsRow, error)
	GetPrimaryTableImage(ctx context.Context, tableID int64) (TableImage, error)
	GetPrintLog(ctx context.Context, id int64) (PrintLog, error)
	GetProfitSharingOrder(ctx context.Context, id int64) (ProfitSharingOrder, error)
	GetProfitSharingOrderByOutOrderNo(ctx context.Context, outOrderNo string) (ProfitSharingOrder, error)
	GetProfitSharingOrderByPaymentOrder(ctx context.Context, paymentOrderID int64) (ProfitSharingOrder, error)
	GetProfitSharingOrderForUpdate(ctx context.Context, id int64) (ProfitSharingOrder, error)
	// 获取无投诉的高质量菜品ID列表
	// 条件: 销量>=指定阈值, 近30天无投诉, 商户无食品安全事故
	GetQualityDishIDs(ctx context.Context, quantity int16) ([]int64, error)
	// 获取随机菜品（用于推荐探索）
	GetRandomDishes(ctx context.Context, limit int32) ([]int64, error)
	// 实时大盘数据(最近24小时)
	GetRealtimeDashboard(ctx context.Context) (GetRealtimeDashboardRow, error)
	GetRecentTrustScoreChanges(ctx context.Context, arg GetRecentTrustScoreChangesParams) ([]TrustScoreChange, error)
	GetRechargeRule(ctx context.Context, id int64) (RechargeRule, error)
	GetRecommendConfig(ctx context.Context, name string) (RecommendConfig, error)
	// ============================================================================
	// 推荐配置管理（运营商）
	// ============================================================================
	GetRecommendationConfig(ctx context.Context, regionID int64) (RecommendationConfig, error)
	GetRefundOrder(ctx context.Context, id int64) (RefundOrder, error)
	GetRefundOrderByOutRefundNo(ctx context.Context, outRefundNo string) (RefundOrder, error)
	GetRefundOrderByRefundId(ctx context.Context, refundID pgtype.Text) (RefundOrder, error)
	GetRefundOrderForUpdate(ctx context.Context, id int64) (RefundOrder, error)
	GetRegion(ctx context.Context, id int64) (Region, error)
	GetRegionByCode(ctx context.Context, code string) (Region, error)
	// 区域对比分析
	GetRegionComparison(ctx context.Context, arg GetRegionComparisonParams) ([]GetRegionComparisonRow, error)
	// 区域日趋势（基于实际分账数据）
	GetRegionDailyTrend(ctx context.Context, arg GetRegionDailyTrendParams) ([]GetRegionDailyTrendRow, error)
	// M12: 运营商统计查询
	//
	// 说明: 运营商结算通过微信电商分账系统实时处理，每笔订单支付时自动分账
	// 运营商佣金数据从 profit_sharing_orders 表 (status='finished') 实时统计
	// operator_settlements 表已废弃删除，因为分账是实时的，不需要手动创建月度结算
	// 区域统计：基于实际完成分账的数据（status='finished'）
	// 这样确保统计的佣金是真实分账成功的，而不是预估值
	GetRegionStats(ctx context.Context, arg GetRegionStatsParams) (GetRegionStatsRow, error)
	// 获取已开通运费配置的区县（带市名，用于天气抓取）
	GetRegionsWithDeliveryFeeConfig(ctx context.Context) ([]GetRegionsWithDeliveryFeeConfigRow, error)
	GetReservationItemsByReservation(ctx context.Context, reservationID int64) ([]ReservationItem, error)
	// Get reservation statistics for a merchant
	GetReservationStats(ctx context.Context, merchantID int64) (GetReservationStatsRow, error)
	// Get reservation statistics for a merchant within date range
	GetReservationStatsByDateRange(ctx context.Context, arg GetReservationStatsByDateRangeParams) (GetReservationStatsByDateRangeRow, error)
	// 获取增强的预订统计（包含 checked_in）
	GetReservationStatsEnhanced(ctx context.Context, merchantID int64) (GetReservationStatsEnhancedRow, error)
	GetReview(ctx context.Context, id int64) (Review, error)
	GetReviewByOrderID(ctx context.Context, orderID int64) (Review, error)
	GetRider(ctx context.Context, id int64) (Rider, error)
	// 骑手查看自己的申诉详情
	GetRiderAppealDetail(ctx context.Context, arg GetRiderAppealDetailParams) (GetRiderAppealDetailRow, error)
	// 获取骑手申请
	GetRiderApplication(ctx context.Context, id int64) (RiderApplication, error)
	// 根据用户ID获取骑手申请
	GetRiderApplicationByUserID(ctx context.Context, userID int64) (RiderApplication, error)
	// 通过二级商户号查找骑手
	GetRiderBySubMchID(ctx context.Context, subMchID pgtype.Text) (Rider, error)
	GetRiderByUserID(ctx context.Context, userID int64) (Rider, error)
	// 骑手查看索赔详情
	GetRiderClaimDetailForRider(ctx context.Context, arg GetRiderClaimDetailForRiderParams) (GetRiderClaimDetailForRiderRow, error)
	GetRiderDailyEarnings(ctx context.Context, arg GetRiderDailyEarningsParams) (interface{}, error)
	// 骑手每日收入汇总
	GetRiderDailyIncome(ctx context.Context, arg GetRiderDailyIncomeParams) ([]GetRiderDailyIncomeRow, error)
	// 获取骑手在指定时间窗口内的配送统计
	GetRiderDeliveryStats(ctx context.Context, arg GetRiderDeliveryStatsParams) (GetRiderDeliveryStatsRow, error)
	GetRiderDeposit(ctx context.Context, id int64) (RiderDeposit, error)
	GetRiderDepositStats(ctx context.Context, riderID int64) (GetRiderDepositStatsRow, error)
	GetRiderEarnings(ctx context.Context, riderID pgtype.Int8) (interface{}, error)
	// 获取骑手押金信息（用于扣款前检查）
	GetRiderForDeposit(ctx context.Context, id int64) (GetRiderForDepositRow, error)
	GetRiderForUpdate(ctx context.Context, id int64) (Rider, error)
	GetRiderLatestLocation(ctx context.Context, riderID int64) (RiderLocation, error)
	// 骑手绩效排行(全平台)
	GetRiderPerformanceRanking(ctx context.Context, arg GetRiderPerformanceRankingParams) ([]GetRiderPerformanceRankingRow, error)
	// =============================================
	// 高值单资格积分查询
	// =============================================
	// 获取骑手高值单资格积分
	GetRiderPremiumScore(ctx context.Context, riderID int64) (int16, error)
	// 获取骑手高值单资格积分及基本信息（用于API返回）
	GetRiderPremiumScoreWithProfile(ctx context.Context, id int64) (GetRiderPremiumScoreWithProfileRow, error)
	GetRiderProfile(ctx context.Context, riderID int64) (RiderProfile, error)
	GetRiderProfileForUpdate(ctx context.Context, riderID int64) (RiderProfile, error)
	// ==================== 骑手分账查询 ====================
	// 骑手配送费收入统计
	GetRiderProfitSharingStats(ctx context.Context, arg GetRiderProfitSharingStatsParams) (GetRiderProfitSharingStatsRow, error)
	// ============ Customer-side Room Queries (C端包间查询) ============
	// 获取包间详情（含商户信息、主图、月销量）供顾客查看
	GetRoomDetailForCustomer(ctx context.Context, id int64) (GetRoomDetailForCustomerRow, error)
	GetSession(ctx context.Context, id int64) (Session, error)
	GetSessionByAccessToken(ctx context.Context, accessToken string) (Session, error)
	GetSessionByRefreshToken(ctx context.Context, refreshToken string) (Session, error)
	// 根据名称获取系统标签
	GetSystemTagByName(ctx context.Context, name string) (Tag, error)
	GetTable(ctx context.Context, id int64) (Table, error)
	GetTableByMerchantAndNo(ctx context.Context, arg GetTableByMerchantAndNoParams) (Table, error)
	GetTableForUpdate(ctx context.Context, id int64) (Table, error)
	GetTableReservation(ctx context.Context, id int64) (TableReservation, error)
	GetTableReservationForUpdate(ctx context.Context, id int64) (TableReservation, error)
	GetTableReservationWithTable(ctx context.Context, id int64) (GetTableReservationWithTableRow, error)
	GetTag(ctx context.Context, id int64) (Tag, error)
	// 菜品销量排行: 从order_items实时聚合
	GetTopSellingDishes(ctx context.Context, arg GetTopSellingDishesParams) ([]GetTopSellingDishesRow, error)
	GetTotalRefundedByPaymentOrder(ctx context.Context, paymentOrderID int64) (int64, error)
	GetTotalScoreChangeByReason(ctx context.Context, arg GetTotalScoreChangeByReasonParams) (interface{}, error)
	GetTrustScoreChange(ctx context.Context, id int64) (TrustScoreChange, error)
	GetTrustScoreChangesByReason(ctx context.Context, arg GetTrustScoreChangesByReasonParams) ([]TrustScoreChange, error)
	GetUnconfirmedFraudPatterns(ctx context.Context, limit int32) ([]FraudPattern, error)
	GetUser(ctx context.Context, id int64) (User, error)
	GetUserAddress(ctx context.Context, id int64) (UserAddress, error)
	// ==========================================
	// 用户余额账户相关查询
	// ==========================================
	// 获取用户余额（不存在则返回nil）
	GetUserBalance(ctx context.Context, userID int64) (UserBalance, error)
	// 获取用户余额（加锁，用于更新）
	GetUserBalanceForUpdate(ctx context.Context, userID int64) (UserBalance, error)
	// 根据关联信息获取日志（用于幂等检查）
	GetUserBalanceLogByRelated(ctx context.Context, arg GetUserBalanceLogByRelatedParams) (UserBalanceLog, error)
	// 获取用户行为统计（用于索赔判定）
	GetUserBehaviorStats(ctx context.Context, userID int64) (GetUserBehaviorStatsRow, error)
	GetUserBehaviorsByType(ctx context.Context, arg GetUserBehaviorsByTypeParams) ([]UserBehavior, error)
	GetUserByPhone(ctx context.Context, phone pgtype.Text) (User, error)
	GetUserByWechatOpenID(ctx context.Context, wechatOpenid string) (User, error)
	GetUserCarts(ctx context.Context, userID int64) ([]GetUserCartsRow, error)
	// 根据购物车ID列表获取用户购物车详情（用于合单结算）
	GetUserCartsByCartIDs(ctx context.Context, arg GetUserCartsByCartIDsParams) ([]GetUserCartsByCartIDsRow, error)
	// 根据商户ID列表获取用户购物车（用于合单结算时验证）
	GetUserCartsByMerchantIDs(ctx context.Context, arg GetUserCartsByMerchantIDsParams) ([]GetUserCartsByMerchantIDsRow, error)
	// ==================== 多商户购物车汇总查询 ====================
	// 获取用户所有购物车的汇总统计
	GetUserCartsSummary(ctx context.Context, userID int64) (GetUserCartsSummaryRow, error)
	// 获取用户所有购物车及其商品详情（用于合单结算）
	GetUserCartsWithDetails(ctx context.Context, userID int64) ([]GetUserCartsWithDetailsRow, error)
	// 获取用户索赔警告状态
	GetUserClaimWarningStatus(ctx context.Context, userID int64) (UserClaimWarning, error)
	GetUserDefaultAddress(ctx context.Context, userID int64) (UserAddress, error)
	// 用户增长统计
	GetUserGrowthStats(ctx context.Context, arg GetUserGrowthStatsParams) ([]GetUserGrowthStatsRow, error)
	GetUserMerchantApplication(ctx context.Context, userID int64) (MerchantApplication, error)
	GetUserMerchantRole(ctx context.Context, arg GetUserMerchantRoleParams) (string, error)
	// ==================== 用户通知偏好设置 ====================
	GetUserNotificationPreferences(ctx context.Context, userID int64) (UserNotificationPreference, error)
	// ============================================================================
	// 用户偏好管理
	// ============================================================================
	GetUserPreferences(ctx context.Context, userID int64) (UserPreference, error)
	GetUserProfile(ctx context.Context, arg GetUserProfileParams) (UserProfile, error)
	GetUserProfileForUpdate(ctx context.Context, arg GetUserProfileForUpdateParams) (UserProfile, error)
	// 获取用户购买过的菜品ID（用于排除已购买）
	GetUserPurchasedDishIDs(ctx context.Context, arg GetUserPurchasedDishIDsParams) ([]pgtype.Int8, error)
	GetUserRecentBehaviors(ctx context.Context, arg GetUserRecentBehaviorsParams) ([]UserBehavior, error)
	GetUserRecentClaims(ctx context.Context, userID int64) ([]Claim, error)
	GetUserRole(ctx context.Context, id int64) (UserRole, error)
	GetUserRoleByType(ctx context.Context, arg GetUserRoleByTypeParams) (UserRole, error)
	GetUserVoucher(ctx context.Context, id int64) (GetUserVoucherRow, error)
	GetUserVoucherForUpdate(ctx context.Context, id int64) (UserVoucher, error)
	// ==========================================
	// 地址聚类查询（M9欺诈检测）
	// ==========================================
	// 查询使用相同地址ID的用户
	GetUsersByAddressID(ctx context.Context, id int64) ([]GetUsersByAddressIDRow, error)
	GetUsersByDeviceID(ctx context.Context, deviceID string) ([]int64, error)
	// 查询地址高度相似的用户（基于region_id和详细地址模糊匹配）
	GetUsersBySimilarAddress(ctx context.Context, arg GetUsersBySimilarAddressParams) ([]GetUsersBySimilarAddressRow, error)
	// 查询最近N天内有索赔记录的用户（设备欺诈检测）
	GetUsersWithRecentClaims(ctx context.Context, arg GetUsersWithRecentClaimsParams) ([]int64, error)
	GetVoucher(ctx context.Context, id int64) (Voucher, error)
	GetVoucherByCode(ctx context.Context, code string) (Voucher, error)
	GetVoucherForUpdate(ctx context.Context, id int64) (Voucher, error)
	GetVoucherUsageStats(ctx context.Context, id int64) (GetVoucherUsageStatsRow, error)
	GetWeatherCoefficient(ctx context.Context, id int64) (WeatherCoefficient, error)
	GetWechatAccessToken(ctx context.Context, appType string) (WechatAccessToken, error)
	GetWechatNotification(ctx context.Context, id string) (WechatNotification, error)
	HasRole(ctx context.Context, arg HasRoleParams) (bool, error)
	IncrementMembershipBalance(ctx context.Context, arg IncrementMembershipBalanceParams) (MerchantMembership, error)
	IncrementMerchantForeignObjectClaim(ctx context.Context, merchantID int64) error
	IncrementRiderDamageIncident(ctx context.Context, riderID int64) error
	IncrementSoldQuantity(ctx context.Context, arg IncrementSoldQuantityParams) (DailyInventory, error)
	IncrementUserClaimCount(ctx context.Context, arg IncrementUserClaimCountParams) error
	// 增加用户警告次数
	IncrementUserClaimWarning(ctx context.Context, arg IncrementUserClaimWarningParams) error
	// 增加平台垫付次数
	IncrementUserPlatformPayCount(ctx context.Context, arg IncrementUserPlatformPayCountParams) error
	IncrementVoucherClaimedQuantity(ctx context.Context, id int64) (Voucher, error)
	IncrementVoucherUsedQuantity(ctx context.Context, id int64) (Voucher, error)
	IsDishFavorited(ctx context.Context, arg IsDishFavoritedParams) (bool, error)
	IsMerchantFavorited(ctx context.Context, arg IsMerchantFavoritedParams) (bool, error)
	LinkMerchantDishCategory(ctx context.Context, arg LinkMerchantDishCategoryParams) (MerchantDishCategory, error)
	ListActiveCloudPrintersByMerchant(ctx context.Context, merchantID int64) ([]CloudPrinter, error)
	ListActiveDeliveryFeeConfigs(ctx context.Context) ([]DeliveryFeeConfig, error)
	ListActiveDeliveryPromotionsByMerchant(ctx context.Context, merchantID int64) ([]MerchantDeliveryPromotion, error)
	ListActiveDiscountRules(ctx context.Context, merchantID int64) ([]DiscountRule, error)
	ListActivePeakHourConfigsByRegion(ctx context.Context, regionID int64) ([]PeakHourConfig, error)
	ListActiveRechargeRules(ctx context.Context, merchantID int64) ([]RechargeRule, error)
	ListActiveVouchers(ctx context.Context, arg ListActiveVouchersParams) ([]Voucher, error)
	ListAllMerchantApplications(ctx context.Context, arg ListAllMerchantApplicationsParams) ([]MerchantApplication, error)
	ListAllMerchants(ctx context.Context, arg ListAllMerchantsParams) ([]Merchant, error)
	// 列出所有运营商区域关系（管理后台用）
	ListAllOperatorRegions(ctx context.Context, arg ListAllOperatorRegionsParams) ([]ListAllOperatorRegionsRow, error)
	// 商户查看所有评价（包含不可见的）
	ListAllReviewsByMerchant(ctx context.Context, arg ListAllReviewsByMerchantParams) ([]Review, error)
	ListAllTagsByType(ctx context.Context, type_ string) ([]Tag, error)
	// 获取未被运营商占用的区域列表（优化：避免 N+1 查询）
	ListAvailableRegions(ctx context.Context, arg ListAvailableRegionsParams) ([]ListAvailableRegionsRow, error)
	ListAvailableRooms(ctx context.Context, merchantID int64) ([]Table, error)
	// 获取商户的可用包间列表（含主图）供顾客查看
	ListAvailableRoomsForCustomer(ctx context.Context, merchantID int64) ([]ListAvailableRoomsForCustomerRow, error)
	ListBrowseHistory(ctx context.Context, arg ListBrowseHistoryParams) ([]BrowseHistory, error)
	ListBrowseHistoryByType(ctx context.Context, arg ListBrowseHistoryByTypeParams) ([]BrowseHistory, error)
	ListCartItems(ctx context.Context, cartID int64) ([]ListCartItemsRow, error)
	// 获取购物车商品详情（用于结算时校验价格和可用性）
	ListCartItemsForCheckout(ctx context.Context, dollar_1 []int64) ([]ListCartItemsForCheckoutRow, error)
	// ==========================================
	// 欺诈检测：时间窗口查询
	// ==========================================
	// 查询指定时间窗口内的索赔（用于协同欺诈检测）
	ListClaimsByTimeWindow(ctx context.Context, arg ListClaimsByTimeWindowParams) ([]ListClaimsByTimeWindowRow, error)
	ListCloudPrintersByMerchant(ctx context.Context, merchantID int64) ([]CloudPrinter, error)
	ListCombinedPaymentSubOrders(ctx context.Context, combinedPaymentID int64) ([]CombinedPaymentSubOrder, error)
	ListCombinedPaymentSubOrdersWithMerchant(ctx context.Context, combinedPaymentID int64) ([]ListCombinedPaymentSubOrdersWithMerchantRow, error)
	ListComboDishes(ctx context.Context, comboID int64) ([]ListComboDishesRow, error)
	ListComboSetsByMerchant(ctx context.Context, arg ListComboSetsByMerchantParams) ([]ComboSet, error)
	ListComboTags(ctx context.Context, comboID int64) ([]Tag, error)
	ListDailyInventoryByDate(ctx context.Context, date pgtype.Date) ([]DailyInventory, error)
	ListDailyInventoryByMerchant(ctx context.Context, arg ListDailyInventoryByMerchantParams) ([]ListDailyInventoryByMerchantRow, error)
	ListDeliveriesByRider(ctx context.Context, arg ListDeliveriesByRiderParams) ([]Delivery, error)
	ListDeliveriesByRiderAndStatus(ctx context.Context, arg ListDeliveriesByRiderAndStatusParams) ([]Delivery, error)
	ListDeliveryFeeConfigs(ctx context.Context, arg ListDeliveryFeeConfigsParams) ([]DeliveryFeeConfig, error)
	ListDeliveryLocations(ctx context.Context, deliveryID pgtype.Int8) ([]RiderLocation, error)
	ListDeliveryLocationsSince(ctx context.Context, arg ListDeliveryLocationsSinceParams) ([]RiderLocation, error)
	// 列出所有待接单的配送池订单
	// 外卖订单始终可见直到被接单或取消
	// 动态优先级 = 基础优先级 + 等待时间加成（每等待10分钟加1级）
	ListDeliveryPool(ctx context.Context, arg ListDeliveryPoolParams) ([]ListDeliveryPoolRow, error)
	// 按骑手位置获取附近的可接订单
	// 动态优先级：等待越久优先级越高
	ListDeliveryPoolNearby(ctx context.Context, arg ListDeliveryPoolNearbyParams) ([]ListDeliveryPoolNearbyRow, error)
	// 按区域过滤的骑手可接订单列表，实现多租户隔离
	// 骑手只能看到其所属区域内商户的订单
	// 距离越近排名越靠前，同时返回动态优先级供前端展示
	ListDeliveryPoolNearbyByRegion(ctx context.Context, arg ListDeliveryPoolNearbyByRegionParams) ([]ListDeliveryPoolNearbyByRegionRow, error)
	ListDeliveryPromotionsByMerchant(ctx context.Context, merchantID int64) ([]MerchantDeliveryPromotion, error)
	ListDishCategories(ctx context.Context, merchantID int64) ([]ListDishCategoriesRow, error)
	ListDishCustomizationGroups(ctx context.Context, dishID int64) ([]DishCustomizationGroup, error)
	ListDishCustomizationOptions(ctx context.Context, groupID int64) ([]ListDishCustomizationOptionsRow, error)
	ListDishIngredients(ctx context.Context, dishID int64) ([]Ingredient, error)
	ListDishTags(ctx context.Context, dishID int64) ([]Tag, error)
	ListDishesByMerchant(ctx context.Context, arg ListDishesByMerchantParams) ([]Dish, error)
	// 获取商户上架菜品（用于扫码点餐菜单展示）
	ListDishesForMenu(ctx context.Context, merchantID int64) ([]ListDishesForMenuRow, error)
	ListEcommerceApplymentsByStatus(ctx context.Context, arg ListEcommerceApplymentsByStatusParams) ([]EcommerceApplyment, error)
	ListEcommerceApplymentsBySubject(ctx context.Context, arg ListEcommerceApplymentsBySubjectParams) ([]EcommerceApplyment, error)
	ListEntityTrustScoreChanges(ctx context.Context, arg ListEntityTrustScoreChangesParams) ([]TrustScoreChange, error)
	// 列出已过期的运营商
	ListExpiredOperators(ctx context.Context) ([]ListExpiredOperatorsRow, error)
	ListExpiredPaymentOrders(ctx context.Context, limit int32) ([]PaymentOrder, error)
	// Find pending reservations that have passed their payment deadline
	ListExpiredPendingReservations(ctx context.Context) ([]TableReservation, error)
	// 列出即将到期的运营商（用于提前通知续约）
	ListExpiringOperators(ctx context.Context, dollar_1 int32) ([]ListExpiringOperatorsRow, error)
	ListFavoriteDishes(ctx context.Context, arg ListFavoriteDishesParams) ([]ListFavoriteDishesRow, error)
	ListFavoriteMerchants(ctx context.Context, arg ListFavoriteMerchantsParams) ([]ListFavoriteMerchantsRow, error)
	ListFraudPatterns(ctx context.Context, arg ListFraudPatternsParams) ([]FraudPattern, error)
	ListIngredients(ctx context.Context, arg ListIngredientsParams) ([]Ingredient, error)
	ListMembershipTransactions(ctx context.Context, arg ListMembershipTransactionsParams) ([]MembershipTransaction, error)
	ListMembershipTransactionsByType(ctx context.Context, arg ListMembershipTransactionsByTypeParams) ([]MembershipTransaction, error)
	// =========================== 商户视角 ===========================
	// 商户查询自己的申诉列表
	ListMerchantAppealsForMerchant(ctx context.Context, arg ListMerchantAppealsForMerchantParams) ([]ListMerchantAppealsForMerchantRow, error)
	ListMerchantApplications(ctx context.Context, arg ListMerchantApplicationsParams) ([]MerchantApplication, error)
	ListMerchantBusinessHours(ctx context.Context, merchantID int64) ([]MerchantBusinessHour, error)
	ListMerchantClaims(ctx context.Context, arg ListMerchantClaimsParams) ([]Claim, error)
	// 获取商户在指定时间窗口内特定类型的索赔列表
	ListMerchantClaimsByTypeInPeriod(ctx context.Context, arg ListMerchantClaimsByTypeInPeriodParams) ([]Claim, error)
	// 商户查看收到的索赔列表（未申诉的+已申诉的）
	ListMerchantClaimsForMerchant(ctx context.Context, arg ListMerchantClaimsForMerchantParams) ([]ListMerchantClaimsForMerchantRow, error)
	ListMerchantDiscountRules(ctx context.Context, arg ListMerchantDiscountRulesParams) ([]DiscountRule, error)
	// 商户财务订单明细（带分账信息）
	ListMerchantFinanceOrders(ctx context.Context, arg ListMerchantFinanceOrdersParams) ([]ListMerchantFinanceOrdersRow, error)
	ListMerchantFoodSafetyIncidents(ctx context.Context, arg ListMerchantFoodSafetyIncidentsParams) ([]FoodSafetyIncident, error)
	// 获取商户未来预订列表（用于熔断后退款处理）
	ListMerchantFutureReservationsForRefund(ctx context.Context, merchantID int64) ([]TableReservation, error)
	ListMerchantMembers(ctx context.Context, arg ListMerchantMembersParams) ([]ListMerchantMembersRow, error)
	// ==================== KDS 厨房显示系统查询 ====================
	// 根据商户ID和状态查询订单（用于厨房显示）
	ListMerchantOrdersByStatus(ctx context.Context, arg ListMerchantOrdersByStatusParams) ([]Order, error)
	// 商户满返支出明细
	ListMerchantPromotionOrders(ctx context.Context, arg ListMerchantPromotionOrdersParams) ([]ListMerchantPromotionOrdersRow, error)
	ListMerchantRechargeRules(ctx context.Context, merchantID int64) ([]RechargeRule, error)
	// 获取商户的包间列表（含主图、月销量）供顾客查看
	ListMerchantRoomsForCustomer(ctx context.Context, merchantID int64) ([]ListMerchantRoomsForCustomerRow, error)
	// 商户结算记录（带日期范围和状态筛选）
	ListMerchantSettlements(ctx context.Context, arg ListMerchantSettlementsParams) ([]ProfitSharingOrder, error)
	// 商户结算记录（带日期范围和状态筛选）
	ListMerchantSettlementsByStatus(ctx context.Context, arg ListMerchantSettlementsByStatusParams) ([]ProfitSharingOrder, error)
	ListMerchantSpecialHours(ctx context.Context, merchantID int64) ([]MerchantBusinessHour, error)
	ListMerchantStaffByMerchant(ctx context.Context, merchantID int64) ([]ListMerchantStaffByMerchantRow, error)
	ListMerchantTags(ctx context.Context, merchantID int64) ([]Tag, error)
	ListMerchantVouchers(ctx context.Context, arg ListMerchantVouchersParams) ([]Voucher, error)
	ListMerchants(ctx context.Context, arg ListMerchantsParams) ([]Merchant, error)
	// 获取用户拥有的所有商户（用于多店铺切换）
	ListMerchantsByOwner(ctx context.Context, ownerUserID int64) ([]Merchant, error)
	// ==================== 运营商管理商户 ====================
	// 按区域列出商户（供运营商管理使用）
	ListMerchantsByRegion(ctx context.Context, arg ListMerchantsByRegionParams) ([]Merchant, error)
	// 按区域和状态列出商户
	ListMerchantsByRegionWithStatus(ctx context.Context, arg ListMerchantsByRegionWithStatusParams) ([]Merchant, error)
	ListMerchantsByStaff(ctx context.Context, userID int64) ([]Merchant, error)
	ListMerchantsByTag(ctx context.Context, arg ListMerchantsByTagParams) ([]Merchant, error)
	ListMerchantsWithTagCount(ctx context.Context, arg ListMerchantsWithTagCountParams) ([]ListMerchantsWithTagCountRow, error)
	ListNearbyRiders(ctx context.Context, arg ListNearbyRidersParams) ([]ListNearbyRidersRow, error)
	// 获取商户上架套餐（用于扫码点餐菜单展示）
	ListOnlineCombosByMerchant(ctx context.Context, merchantID int64) ([]ListOnlineCombosByMerchantRow, error)
	ListOnlineRiders(ctx context.Context) ([]Rider, error)
	// 列出区域内在线骑手
	ListOnlineRidersByRegion(ctx context.Context, regionID pgtype.Int8) ([]Rider, error)
	// 获取营业中的商户列表
	ListOpenMerchants(ctx context.Context, arg ListOpenMerchantsParams) ([]Merchant, error)
	// =========================== 运营商视角 ===========================
	// 运营商查询区域内的申诉列表
	ListOperatorAppeals(ctx context.Context, arg ListOperatorAppealsParams) ([]ListOperatorAppealsRow, error)
	// 列出所有申请（支持状态筛选）
	ListOperatorApplications(ctx context.Context, arg ListOperatorApplicationsParams) ([]ListOperatorApplicationsRow, error)
	// 列出运营商管理的所有区域
	ListOperatorRegions(ctx context.Context, operatorID int64) ([]ListOperatorRegionsRow, error)
	ListOperators(ctx context.Context, arg ListOperatorsParams) ([]ListOperatorsRow, error)
	ListOrderItemsByOrder(ctx context.Context, orderID int64) ([]OrderItem, error)
	ListOrderItemsWithDishByOrder(ctx context.Context, orderID int64) ([]ListOrderItemsWithDishByOrderRow, error)
	ListOrderStatusLogs(ctx context.Context, orderID int64) ([]OrderStatusLog, error)
	ListOrderStatusLogsWithOperator(ctx context.Context, orderID int64) ([]ListOrderStatusLogsWithOperatorRow, error)
	ListOrdersByMerchant(ctx context.Context, arg ListOrdersByMerchantParams) ([]Order, error)
	ListOrdersByMerchantAndStatus(ctx context.Context, arg ListOrdersByMerchantAndStatusParams) ([]Order, error)
	ListOrdersByMerchantAndStatuses(ctx context.Context, arg ListOrdersByMerchantAndStatusesParams) ([]Order, error)
	ListOrdersByUser(ctx context.Context, arg ListOrdersByUserParams) ([]ListOrdersByUserRow, error)
	ListOrdersByUserAndStatus(ctx context.Context, arg ListOrdersByUserAndStatusParams) ([]ListOrdersByUserAndStatusRow, error)
	ListPaymentOrdersByUser(ctx context.Context, arg ListPaymentOrdersByUserParams) ([]PaymentOrder, error)
	ListPaymentOrdersByUserAndStatus(ctx context.Context, arg ListPaymentOrdersByUserAndStatusParams) ([]PaymentOrder, error)
	ListPeakHourConfigsByRegion(ctx context.Context, regionID int64) ([]PeakHourConfig, error)
	// 查询待支付且已过期的合单（用于定时关闭）
	ListPendingCombinedPaymentOrders(ctx context.Context, limit int32) ([]CombinedPaymentOrder, error)
	ListPendingDeliveries(ctx context.Context, limit int32) ([]Delivery, error)
	ListPendingEcommerceApplyments(ctx context.Context, arg ListPendingEcommerceApplymentsParams) ([]EcommerceApplyment, error)
	// 列出待审核的申请（平台管理员用）
	ListPendingOperatorApplications(ctx context.Context, arg ListPendingOperatorApplicationsParams) ([]ListPendingOperatorApplicationsRow, error)
	// Find pending reservations within N minutes of payment deadline (for reminder notifications)
	ListPendingReservationsNearDeadline(ctx context.Context, minutesBefore pgtype.Interval) ([]TableReservation, error)
	ListPrintLogsByOrder(ctx context.Context, orderID int64) ([]ListPrintLogsByOrderRow, error)
	ListPrintLogsByPrinter(ctx context.Context, arg ListPrintLogsByPrinterParams) ([]PrintLog, error)
	ListProfitSharingOrdersByMerchant(ctx context.Context, arg ListProfitSharingOrdersByMerchantParams) ([]ProfitSharingOrder, error)
	ListProfitSharingOrdersByOperator(ctx context.Context, arg ListProfitSharingOrdersByOperatorParams) ([]ProfitSharingOrder, error)
	ListProfitSharingOrdersByStatus(ctx context.Context, arg ListProfitSharingOrdersByStatusParams) ([]ProfitSharingOrder, error)
	ListRecentWeatherCoefficients(ctx context.Context, arg ListRecentWeatherCoefficientsParams) ([]WeatherCoefficient, error)
	ListRecommendConfigs(ctx context.Context) ([]RecommendConfig, error)
	ListRefundOrdersByPaymentOrder(ctx context.Context, paymentOrderID int64) ([]RefundOrder, error)
	ListRefundOrdersByStatus(ctx context.Context, arg ListRefundOrdersByStatusParams) ([]RefundOrder, error)
	ListRegionChildren(ctx context.Context, parentID pgtype.Int8) ([]Region, error)
	// 列出管理某区域的所有运营商
	ListRegionOperators(ctx context.Context, regionID int64) ([]ListRegionOperatorsRow, error)
	// ==========================================
	// 运营商索赔管理（区域内待审核索赔）
	// ==========================================
	// 获取运营商区域内待人工审核的索赔列表
	ListRegionPendingClaims(ctx context.Context, arg ListRegionPendingClaimsParams) ([]ListRegionPendingClaimsRow, error)
	ListRegions(ctx context.Context, arg ListRegionsParams) ([]Region, error)
	ListRegionsWithWarning(ctx context.Context) ([]int64, error)
	ListReservationItems(ctx context.Context, reservationID int64) ([]ListReservationItemsRow, error)
	ListReservationsByMerchant(ctx context.Context, arg ListReservationsByMerchantParams) ([]ListReservationsByMerchantRow, error)
	ListReservationsByMerchantAndDate(ctx context.Context, arg ListReservationsByMerchantAndDateParams) ([]ListReservationsByMerchantAndDateRow, error)
	ListReservationsByMerchantAndStatus(ctx context.Context, arg ListReservationsByMerchantAndStatusParams) ([]ListReservationsByMerchantAndStatusRow, error)
	ListReservationsByTable(ctx context.Context, arg ListReservationsByTableParams) ([]TableReservation, error)
	ListReservationsByTableAndDate(ctx context.Context, arg ListReservationsByTableAndDateParams) ([]TableReservation, error)
	ListReservationsByUser(ctx context.Context, arg ListReservationsByUserParams) ([]ListReservationsByUserRow, error)
	ListReviewsByMerchant(ctx context.Context, arg ListReviewsByMerchantParams) ([]Review, error)
	ListReviewsByUser(ctx context.Context, arg ListReviewsByUserParams) ([]Review, error)
	ListRiderActiveDeliveries(ctx context.Context, riderID pgtype.Int8) ([]Delivery, error)
	// =========================== 骑手视角 ===========================
	// 骑手查询自己的申诉列表
	ListRiderAppeals(ctx context.Context, arg ListRiderAppealsParams) ([]ListRiderAppealsRow, error)
	// 列出骑手申请（管理员用）
	ListRiderApplications(ctx context.Context, arg ListRiderApplicationsParams) ([]RiderApplication, error)
	ListRiderClaims(ctx context.Context, arg ListRiderClaimsParams) ([]Claim, error)
	// 骑手查看收到的索赔列表（通过配送单关联）
	ListRiderClaimsForRider(ctx context.Context, arg ListRiderClaimsForRiderParams) ([]ListRiderClaimsForRiderRow, error)
	ListRiderDeposits(ctx context.Context, arg ListRiderDepositsParams) ([]RiderDeposit, error)
	ListRiderDepositsByType(ctx context.Context, arg ListRiderDepositsByTypeParams) ([]RiderDeposit, error)
	ListRiderLocations(ctx context.Context, arg ListRiderLocationsParams) ([]RiderLocation, error)
	// 查询骑手高值单资格积分变更历史
	ListRiderPremiumScoreLogs(ctx context.Context, arg ListRiderPremiumScoreLogsParams) ([]RiderPremiumScoreLog, error)
	// 骑手配送费明细
	ListRiderProfitSharingOrders(ctx context.Context, arg ListRiderProfitSharingOrdersParams) ([]ListRiderProfitSharingOrdersRow, error)
	// 按区域列出骑手（供运营商管理使用）
	ListRidersByRegion(ctx context.Context, arg ListRidersByRegionParams) ([]Rider, error)
	// 按区域和状态列出骑手
	ListRidersByRegionWithStatus(ctx context.Context, arg ListRidersByRegionWithStatusParams) ([]Rider, error)
	ListRidersByStatus(ctx context.Context, arg ListRidersByStatusParams) ([]Rider, error)
	ListSuspendedRegions(ctx context.Context) ([]WeatherCoefficient, error)
	ListTableImages(ctx context.Context, tableID int64) ([]TableImage, error)
	ListTableTags(ctx context.Context, tableID int64) ([]ListTableTagsRow, error)
	ListTablesByMerchant(ctx context.Context, merchantID int64) ([]Table, error)
	ListTablesByMerchantAndType(ctx context.Context, arg ListTablesByMerchantAndTypeParams) ([]Table, error)
	ListTablesByTag(ctx context.Context, tagID int64) ([]Table, error)
	ListTags(ctx context.Context, arg ListTagsParams) ([]Tag, error)
	// 获取今日预订列表
	ListTodayReservationsByMerchant(ctx context.Context, merchantID int64) ([]ListTodayReservationsByMerchantRow, error)
	ListUserActiveSessions(ctx context.Context, userID int64) ([]Session, error)
	ListUserAddresses(ctx context.Context, userID int64) ([]UserAddress, error)
	ListUserAvailableVouchers(ctx context.Context, arg ListUserAvailableVouchersParams) ([]ListUserAvailableVouchersRow, error)
	ListUserAvailableVouchersForMerchant(ctx context.Context, arg ListUserAvailableVouchersForMerchantParams) ([]ListUserAvailableVouchersForMerchantRow, error)
	// 获取用户余额变动日志
	ListUserBalanceLogs(ctx context.Context, arg ListUserBalanceLogsParams) ([]UserBalanceLog, error)
	// 按类型获取用户余额变动日志
	ListUserBalanceLogsByType(ctx context.Context, arg ListUserBalanceLogsByTypeParams) ([]UserBalanceLog, error)
	ListUserClaims(ctx context.Context, arg ListUserClaimsParams) ([]Claim, error)
	ListUserClaimsInPeriod(ctx context.Context, arg ListUserClaimsInPeriodParams) ([]Claim, error)
	ListUserCombinedPaymentOrders(ctx context.Context, arg ListUserCombinedPaymentOrdersParams) ([]CombinedPaymentOrder, error)
	ListUserMemberships(ctx context.Context, arg ListUserMembershipsParams) ([]ListUserMembershipsRow, error)
	ListUserNotifications(ctx context.Context, arg ListUserNotificationsParams) ([]Notification, error)
	// 获取用户最近的订单（用于食安恶作剧检测）
	ListUserRecentOrders(ctx context.Context, arg ListUserRecentOrdersParams) ([]ListUserRecentOrdersRow, error)
	ListUserRoles(ctx context.Context, userID int64) ([]UserRole, error)
	ListUserVouchers(ctx context.Context, arg ListUserVouchersParams) ([]ListUserVouchersRow, error)
	ListUsers(ctx context.Context, arg ListUsersParams) ([]User, error)
	ListWeatherCoefficients(ctx context.Context, arg ListWeatherCoefficientsParams) ([]WeatherCoefficient, error)
	ListWechatNotificationsByOutTradeNo(ctx context.Context, outTradeNo pgtype.Text) ([]WechatNotification, error)
	MarkAllNotificationsAsRead(ctx context.Context, userID int64) error
	MarkExpiredVouchers(ctx context.Context) error
	MarkNotificationAsPushed(ctx context.Context, id int64) error
	MarkNotificationAsRead(ctx context.Context, arg MarkNotificationAsReadParams) (Notification, error)
	MarkUserVoucherAsUsed(ctx context.Context, arg MarkUserVoucherAsUsedParams) (UserVoucher, error)
	// 浏览历史查询
	RecordBrowseHistory(ctx context.Context, arg RecordBrowseHistoryParams) (BrowseHistory, error)
	// 拒绝商户申请
	RejectMerchantApplication(ctx context.Context, arg RejectMerchantApplicationParams) (MerchantApplication, error)
	// 拒绝运营商申请（平台管理员操作）
	RejectOperatorApplication(ctx context.Context, arg RejectOperatorApplicationParams) (OperatorApplication, error)
	// 拒绝骑手申请
	RejectRiderApplication(ctx context.Context, arg RejectRiderApplicationParams) (RiderApplication, error)
	RemoveAllComboDishes(ctx context.Context, comboID int64) error
	RemoveAllComboTags(ctx context.Context, comboID int64) error
	RemoveAllDishIngredients(ctx context.Context, dishID int64) error
	RemoveAllDishTags(ctx context.Context, dishID int64) error
	RemoveAllTableTags(ctx context.Context, tableID int64) error
	RemoveComboDish(ctx context.Context, arg RemoveComboDishParams) error
	RemoveComboTag(ctx context.Context, arg RemoveComboTagParams) error
	RemoveDishIngredient(ctx context.Context, arg RemoveDishIngredientParams) error
	RemoveDishTag(ctx context.Context, arg RemoveDishTagParams) error
	// 清理已过期订单池项（用于订单取消等情况，expires_at不再用于可见性过滤）
	RemoveExpiredFromDeliveryPool(ctx context.Context) error
	RemoveFavoriteDish(ctx context.Context, arg RemoveFavoriteDishParams) error
	RemoveFavoriteMerchant(ctx context.Context, arg RemoveFavoriteMerchantParams) error
	RemoveFromDeliveryPool(ctx context.Context, orderID int64) error
	RemoveMerchantTag(ctx context.Context, arg RemoveMerchantTagParams) error
	// 移除运营商的管理区域
	RemoveOperatorRegion(ctx context.Context, arg RemoveOperatorRegionParams) error
	RemoveTableTag(ctx context.Context, arg RemoveTableTagParams) error
	// 续约运营商合同
	RenewOperatorContract(ctx context.Context, arg RenewOperatorContractParams) (Operator, error)
	// 重置申请为草稿状态（允许用户重新编辑，支持从待审核、被拒绝或已通过状态重置）
	ResetMerchantApplicationToDraft(ctx context.Context, id int64) (MerchantApplication, error)
	// 重置被拒绝的申请为草稿（允许重新编辑提交）
	ResetOperatorApplicationToDraft(ctx context.Context, id int64) (OperatorApplication, error)
	// 重置申请为草稿状态（被拒绝后可重新编辑）
	ResetRiderApplicationToDraft(ctx context.Context, id int64) (RiderApplication, error)
	// 审核申诉
	ReviewAppeal(ctx context.Context, arg ReviewAppealParams) (Appeal, error)
	// 运营商审核索赔
	ReviewClaim(ctx context.Context, arg ReviewClaimParams) error
	RevokeSession(ctx context.Context, id int64) (Session, error)
	RevokeUserSessions(ctx context.Context, userID int64) error
	// ============================================================================
	// 推荐结果管理
	// ============================================================================
	SaveRecommendations(ctx context.Context, arg SaveRecommendationsParams) (Recommendation, error)
	// 全局套餐搜索，只返回套餐ID（用于推荐接口的关键词过滤）
	SearchComboIDsGlobal(ctx context.Context, dollar_1 pgtype.Text) ([]int64, error)
	// 全局菜品搜索，只返回菜品ID（用于推荐接口的关键词过滤）
	SearchDishIDsGlobal(ctx context.Context, dollar_1 pgtype.Text) ([]int64, error)
	SearchDishesByName(ctx context.Context, arg SearchDishesByNameParams) ([]Dish, error)
	// 全局菜品搜索（跨商户），只搜索已批准商户的上架菜品
	SearchDishesGlobal(ctx context.Context, arg SearchDishesGlobalParams) ([]Dish, error)
	SearchIngredients(ctx context.Context, arg SearchIngredientsParams) ([]Ingredient, error)
	SearchMerchants(ctx context.Context, arg SearchMerchantsParams) ([]Merchant, error)
	SearchRegionsByName(ctx context.Context, arg SearchRegionsByNameParams) ([]Region, error)
	// ============ Room Search ============
	// 搜索包间：按日期、时段、人数、菜系（商户标签）等条件过滤
	// 返回可用包间及其商户信息
	SearchRooms(ctx context.Context, arg SearchRoomsParams) ([]SearchRoomsRow, error)
	// 按商户标签（菜系）搜索包间
	SearchRoomsByMerchantTag(ctx context.Context, arg SearchRoomsByMerchantTagParams) ([]SearchRoomsByMerchantTagRow, error)
	// 搜索包间（带主图），增强版 SearchRooms
	SearchRoomsWithImage(ctx context.Context, arg SearchRoomsWithImageParams) ([]SearchRoomsWithImageRow, error)
	SearchTags(ctx context.Context, arg SearchTagsParams) ([]Tag, error)
	// 设置指定地址为默认
	SetAddressAsDefault(ctx context.Context, arg SetAddressAsDefaultParams) (UserAddress, error)
	// 先将用户的所有地址设为非默认
	SetDefaultAddress(ctx context.Context, userID int64) error
	// 先清除所有主图标记，再设置新的主图
	SetPrimaryTableImage(ctx context.Context, tableID int64) error
	SetTableImagePrimary(ctx context.Context, id int64) (TableImage, error)
	// 设置用户需要提交证据
	SetUserRequiresEvidence(ctx context.Context, arg SetUserRequiresEvidenceParams) error
	// 提交商户申请（从草稿、被拒绝或已通过状态变为已提交）
	SubmitMerchantApplication(ctx context.Context, id int64) (MerchantApplication, error)
	// 提交运营商申请（从草稿变为已提交待审核）
	SubmitOperatorApplication(ctx context.Context, id int64) (OperatorApplication, error)
	// 提交骑手申请
	SubmitRiderApplication(ctx context.Context, id int64) (RiderApplication, error)
	// 按商户统计索赔损失金额
	SumClaimAmountsByMerchant(ctx context.Context, dollar_1 []int64) ([]SumClaimAmountsByMerchantRow, error)
	// 按骑手统计索赔损失金额（餐损类型）
	SumClaimAmountsByRider(ctx context.Context, dollar_1 []int64) ([]SumClaimAmountsByRiderRow, error)
	SumReservationItemsTotal(ctx context.Context, reservationID int64) (int64, error)
	SuspendMerchant(ctx context.Context, arg SuspendMerchantParams) error
	SuspendRider(ctx context.Context, arg SuspendRiderParams) error
	// M11: 千人千面推荐引擎 - SQLC查询
	// ============================================================================
	// 用户行为埋点
	// ============================================================================
	TrackBehavior(ctx context.Context, arg TrackBehaviorParams) (UserBehavior, error)
	UnblacklistUser(ctx context.Context, arg UnblacklistUserParams) error
	// 解冻用户余额（提现失败时）
	UnfreezeUserBalance(ctx context.Context, arg UnfreezeUserBalanceParams) (UserBalance, error)
	UnlinkMerchantDishCategory(ctx context.Context, arg UnlinkMerchantDishCategoryParams) error
	UnsuspendMerchant(ctx context.Context, merchantID int64) error
	UnsuspendRider(ctx context.Context, riderID int64) error
	UpdateBusinessHour(ctx context.Context, arg UpdateBusinessHourParams) (MerchantBusinessHour, error)
	UpdateCartItem(ctx context.Context, arg UpdateCartItemParams) (CartItem, error)
	UpdateClaimLookbackResult(ctx context.Context, arg UpdateClaimLookbackResultParams) error
	UpdateClaimStatus(ctx context.Context, arg UpdateClaimStatusParams) error
	UpdateCloudPrinter(ctx context.Context, arg UpdateCloudPrinterParams) (CloudPrinter, error)
	UpdateCombinedPaymentOrderPrepay(ctx context.Context, arg UpdateCombinedPaymentOrderPrepayParams) (CombinedPaymentOrder, error)
	UpdateCombinedPaymentOrderToClosed(ctx context.Context, id int64) (CombinedPaymentOrder, error)
	UpdateCombinedPaymentOrderToFailed(ctx context.Context, id int64) (CombinedPaymentOrder, error)
	UpdateCombinedPaymentOrderToPaid(ctx context.Context, arg UpdateCombinedPaymentOrderToPaidParams) (CombinedPaymentOrder, error)
	UpdateComboSet(ctx context.Context, arg UpdateComboSetParams) (ComboSet, error)
	UpdateComboSetOnlineStatus(ctx context.Context, arg UpdateComboSetOnlineStatusParams) error
	UpdateDailyInventory(ctx context.Context, arg UpdateDailyInventoryParams) (DailyInventory, error)
	UpdateDeliveryDamage(ctx context.Context, arg UpdateDeliveryDamageParams) (Delivery, error)
	UpdateDeliveryDelayed(ctx context.Context, id int64) (Delivery, error)
	UpdateDeliveryEstimatedTime(ctx context.Context, arg UpdateDeliveryEstimatedTimeParams) (Delivery, error)
	UpdateDeliveryFeeConfig(ctx context.Context, arg UpdateDeliveryFeeConfigParams) (DeliveryFeeConfig, error)
	UpdateDeliveryPromotion(ctx context.Context, arg UpdateDeliveryPromotionParams) (MerchantDeliveryPromotion, error)
	UpdateDeliveryToCancelled(ctx context.Context, id int64) (Delivery, error)
	UpdateDeliveryToCompleted(ctx context.Context, arg UpdateDeliveryToCompletedParams) (Delivery, error)
	UpdateDeliveryToDelivered(ctx context.Context, arg UpdateDeliveryToDeliveredParams) (Delivery, error)
	UpdateDeliveryToDelivering(ctx context.Context, arg UpdateDeliveryToDeliveringParams) (Delivery, error)
	UpdateDeliveryToPicked(ctx context.Context, arg UpdateDeliveryToPickedParams) (Delivery, error)
	UpdateDeliveryToPickup(ctx context.Context, arg UpdateDeliveryToPickupParams) (Delivery, error)
	UpdateDiscountRule(ctx context.Context, arg UpdateDiscountRuleParams) (DiscountRule, error)
	UpdateDish(ctx context.Context, arg UpdateDishParams) (Dish, error)
	UpdateDishAvailability(ctx context.Context, arg UpdateDishAvailabilityParams) error
	UpdateDishCustomizationGroup(ctx context.Context, arg UpdateDishCustomizationGroupParams) (DishCustomizationGroup, error)
	UpdateDishOnlineStatus(ctx context.Context, arg UpdateDishOnlineStatusParams) error
	UpdateDishesCategory(ctx context.Context, arg UpdateDishesCategoryParams) error
	UpdateEcommerceApplymentStatus(ctx context.Context, arg UpdateEcommerceApplymentStatusParams) (EcommerceApplyment, error)
	UpdateEcommerceApplymentSubMchID(ctx context.Context, arg UpdateEcommerceApplymentSubMchIDParams) (EcommerceApplyment, error)
	UpdateEcommerceApplymentToSubmitted(ctx context.Context, arg UpdateEcommerceApplymentToSubmittedParams) (EcommerceApplyment, error)
	UpdateFoodSafetyIncidentStatus(ctx context.Context, arg UpdateFoodSafetyIncidentStatusParams) error
	UpdateFraudPatternReview(ctx context.Context, arg UpdateFraudPatternReviewParams) error
	UpdateIngredient(ctx context.Context, arg UpdateIngredientParams) (Ingredient, error)
	UpdateMembershipBalance(ctx context.Context, arg UpdateMembershipBalanceParams) (MerchantMembership, error)
	// ✅ P1-2: 使用乐观锁(version)防止并发更新丢失
	UpdateMerchant(ctx context.Context, arg UpdateMerchantParams) (Merchant, error)
	// 更新基础信息（商户名、联系电话、地址、经纬度、区域）
	UpdateMerchantApplicationBasicInfo(ctx context.Context, arg UpdateMerchantApplicationBasicInfoParams) (MerchantApplication, error)
	// 更新营业执照信息（图片URL和OCR结果）
	UpdateMerchantApplicationBusinessLicense(ctx context.Context, arg UpdateMerchantApplicationBusinessLicenseParams) (MerchantApplication, error)
	// 更新食品经营许可证信息（图片URL和OCR结果）
	UpdateMerchantApplicationFoodPermit(ctx context.Context, arg UpdateMerchantApplicationFoodPermitParams) (MerchantApplication, error)
	// 更新身份证背面信息（图片URL和OCR结果）
	UpdateMerchantApplicationIDCardBack(ctx context.Context, arg UpdateMerchantApplicationIDCardBackParams) (MerchantApplication, error)
	// 更新身份证正面信息（图片URL和OCR结果）
	UpdateMerchantApplicationIDCardFront(ctx context.Context, arg UpdateMerchantApplicationIDCardFrontParams) (MerchantApplication, error)
	// 更新门头照和环境照（jsonb数组）
	UpdateMerchantApplicationImages(ctx context.Context, arg UpdateMerchantApplicationImagesParams) (MerchantApplication, error)
	UpdateMerchantApplicationStatus(ctx context.Context, arg UpdateMerchantApplicationStatusParams) (MerchantApplication, error)
	UpdateMerchantDishCategoryOrder(ctx context.Context, arg UpdateMerchantDishCategoryOrderParams) (MerchantDishCategory, error)
	// ==================== 商户营业状态管理 ====================
	// 更新商户营业状态（手动开店/打烊）
	UpdateMerchantIsOpen(ctx context.Context, arg UpdateMerchantIsOpenParams) (Merchant, error)
	UpdateMerchantMembershipSettings(ctx context.Context, arg UpdateMerchantMembershipSettingsParams) (MerchantMembershipSetting, error)
	UpdateMerchantPaymentConfig(ctx context.Context, arg UpdateMerchantPaymentConfigParams) (MerchantPaymentConfig, error)
	UpdateMerchantProfile(ctx context.Context, arg UpdateMerchantProfileParams) error
	UpdateMerchantReply(ctx context.Context, arg UpdateMerchantReplyParams) (Review, error)
	UpdateMerchantStaffRole(ctx context.Context, arg UpdateMerchantStaffRoleParams) (MerchantStaff, error)
	UpdateMerchantStaffStatus(ctx context.Context, arg UpdateMerchantStaffStatusParams) (MerchantStaff, error)
	UpdateMerchantStatus(ctx context.Context, arg UpdateMerchantStatusParams) (Merchant, error)
	UpdateMerchantTrustScore(ctx context.Context, arg UpdateMerchantTrustScoreParams) error
	UpdateOperator(ctx context.Context, arg UpdateOperatorParams) (Operator, error)
	// 更新基础信息（名称、联系人、联系电话、合同年限）
	UpdateOperatorApplicationBasicInfo(ctx context.Context, arg UpdateOperatorApplicationBasicInfoParams) (OperatorApplication, error)
	// 更新营业执照信息（图片URL、执照号和OCR结果）
	UpdateOperatorApplicationBusinessLicense(ctx context.Context, arg UpdateOperatorApplicationBusinessLicenseParams) (OperatorApplication, error)
	// 更新身份证背面信息（图片URL和OCR结果）
	UpdateOperatorApplicationIDCardBack(ctx context.Context, arg UpdateOperatorApplicationIDCardBackParams) (OperatorApplication, error)
	// 更新身份证正面信息（图片URL、姓名、身份证号和OCR结果）
	UpdateOperatorApplicationIDCardFront(ctx context.Context, arg UpdateOperatorApplicationIDCardFrontParams) (OperatorApplication, error)
	// 更新申请的区域（仅草稿状态可修改）
	UpdateOperatorApplicationRegion(ctx context.Context, arg UpdateOperatorApplicationRegionParams) (OperatorApplication, error)
	// 更新运营商区域状态（暂停/恢复）
	UpdateOperatorRegionStatus(ctx context.Context, arg UpdateOperatorRegionStatusParams) (OperatorRegion, error)
	// 更新运营商状态（用于过期处理等）
	UpdateOperatorStatus(ctx context.Context, arg UpdateOperatorStatusParams) (Operator, error)
	// 更新运营商的微信二级商户号（开户成功后调用）
	UpdateOperatorSubMchID(ctx context.Context, arg UpdateOperatorSubMchIDParams) (Operator, error)
	UpdateOrderDisplayConfig(ctx context.Context, arg UpdateOrderDisplayConfigParams) (OrderDisplayConfig, error)
	UpdateOrderStatus(ctx context.Context, arg UpdateOrderStatusParams) (Order, error)
	UpdateOrderToCancelled(ctx context.Context, arg UpdateOrderToCancelledParams) (Order, error)
	UpdateOrderToCompleted(ctx context.Context, id int64) (Order, error)
	UpdateOrderToPaid(ctx context.Context, arg UpdateOrderToPaidParams) (Order, error)
	UpdatePaymentOrderPrepayId(ctx context.Context, arg UpdatePaymentOrderPrepayIdParams) (PaymentOrder, error)
	UpdatePaymentOrderToClosed(ctx context.Context, id int64) (PaymentOrder, error)
	UpdatePaymentOrderToFailed(ctx context.Context, id int64) (PaymentOrder, error)
	UpdatePaymentOrderToPaid(ctx context.Context, arg UpdatePaymentOrderToPaidParams) (PaymentOrder, error)
	UpdatePaymentOrderToRefunded(ctx context.Context, id int64) (PaymentOrder, error)
	UpdatePeakHourConfig(ctx context.Context, arg UpdatePeakHourConfigParams) (PeakHourConfig, error)
	UpdatePrintLogStatus(ctx context.Context, arg UpdatePrintLogStatusParams) (PrintLog, error)
	UpdateProfitSharingOrderToFailed(ctx context.Context, id int64) (ProfitSharingOrder, error)
	UpdateProfitSharingOrderToFinished(ctx context.Context, id int64) (ProfitSharingOrder, error)
	UpdateProfitSharingOrderToProcessing(ctx context.Context, arg UpdateProfitSharingOrderToProcessingParams) (ProfitSharingOrder, error)
	UpdateRechargeRule(ctx context.Context, arg UpdateRechargeRuleParams) (RechargeRule, error)
	UpdateRecommendConfig(ctx context.Context, arg UpdateRecommendConfigParams) (RecommendConfig, error)
	UpdateRefundOrderToClosed(ctx context.Context, id int64) (RefundOrder, error)
	UpdateRefundOrderToFailed(ctx context.Context, id int64) (RefundOrder, error)
	UpdateRefundOrderToProcessing(ctx context.Context, arg UpdateRefundOrderToProcessingParams) (RefundOrder, error)
	UpdateRefundOrderToSuccess(ctx context.Context, id int64) (RefundOrder, error)
	UpdateRegion(ctx context.Context, arg UpdateRegionParams) (Region, error)
	// 更新区县的和风天气 LocationID（首次查询后缓存）
	UpdateRegionQweatherLocationID(ctx context.Context, arg UpdateRegionQweatherLocationIDParams) error
	// 商户修改预订信息
	UpdateReservation(ctx context.Context, arg UpdateReservationParams) (TableReservation, error)
	// 标记开始起菜
	UpdateReservationCookingStarted(ctx context.Context, id int64) (TableReservation, error)
	UpdateReservationStatus(ctx context.Context, arg UpdateReservationStatusParams) (TableReservation, error)
	UpdateReservationToCancelled(ctx context.Context, arg UpdateReservationToCancelledParams) (TableReservation, error)
	// 顾客到店签到
	UpdateReservationToCheckedIn(ctx context.Context, id int64) (TableReservation, error)
	UpdateReservationToCompleted(ctx context.Context, id int64) (TableReservation, error)
	UpdateReservationToConfirmed(ctx context.Context, id int64) (TableReservation, error)
	UpdateReservationToExpired(ctx context.Context, id int64) (TableReservation, error)
	UpdateReservationToNoShow(ctx context.Context, id int64) (TableReservation, error)
	UpdateReservationToPaid(ctx context.Context, id int64) (TableReservation, error)
	UpdateReviewVisibility(ctx context.Context, arg UpdateReviewVisibilityParams) (Review, error)
	// 更新基础信息（姓名、手机号）
	UpdateRiderApplicationBasicInfo(ctx context.Context, arg UpdateRiderApplicationBasicInfoParams) (RiderApplication, error)
	// 更新健康证信息
	UpdateRiderApplicationHealthCert(ctx context.Context, arg UpdateRiderApplicationHealthCertParams) (RiderApplication, error)
	// 更新身份证信息
	UpdateRiderApplicationIDCard(ctx context.Context, arg UpdateRiderApplicationIDCardParams) (RiderApplication, error)
	UpdateRiderDeposit(ctx context.Context, arg UpdateRiderDepositParams) (Rider, error)
	UpdateRiderLocation(ctx context.Context, arg UpdateRiderLocationParams) (Rider, error)
	UpdateRiderOnlineDuration(ctx context.Context, arg UpdateRiderOnlineDurationParams) (Rider, error)
	UpdateRiderOnlineStatus(ctx context.Context, arg UpdateRiderOnlineStatusParams) (Rider, error)
	// 更新骑手高值单资格积分（原子操作）
	UpdateRiderPremiumScore(ctx context.Context, arg UpdateRiderPremiumScoreParams) (int16, error)
	UpdateRiderProfile(ctx context.Context, arg UpdateRiderProfileParams) error
	// 更新骑手所属区域
	UpdateRiderRegion(ctx context.Context, arg UpdateRiderRegionParams) (Rider, error)
	UpdateRiderStats(ctx context.Context, arg UpdateRiderStatsParams) (Rider, error)
	UpdateRiderStatus(ctx context.Context, arg UpdateRiderStatusParams) (Rider, error)
	// 更新骑手的微信二级商户号
	UpdateRiderSubMchID(ctx context.Context, arg UpdateRiderSubMchIDParams) (Rider, error)
	UpdateRiderTrustScore(ctx context.Context, arg UpdateRiderTrustScoreParams) error
	UpdateSubOrderProfitSharingStatus(ctx context.Context, arg UpdateSubOrderProfitSharingStatusParams) (CombinedPaymentSubOrder, error)
	UpdateTable(ctx context.Context, arg UpdateTableParams) (Table, error)
	UpdateTableImage(ctx context.Context, arg UpdateTableImageParams) (TableImage, error)
	UpdateTableStatus(ctx context.Context, arg UpdateTableStatusParams) (Table, error)
	UpdateTag(ctx context.Context, arg UpdateTagParams) (Tag, error)
	UpdateUser(ctx context.Context, arg UpdateUserParams) (User, error)
	UpdateUserAddress(ctx context.Context, arg UpdateUserAddressParams) (UserAddress, error)
	UpdateUserNotificationPreferences(ctx context.Context, arg UpdateUserNotificationPreferencesParams) (UserNotificationPreference, error)
	UpdateUserProfile(ctx context.Context, arg UpdateUserProfileParams) error
	UpdateUserRoleStatus(ctx context.Context, arg UpdateUserRoleStatusParams) (UserRole, error)
	UpdateUserTrustScore(ctx context.Context, arg UpdateUserTrustScoreParams) error
	UpdateVoucher(ctx context.Context, arg UpdateVoucherParams) (Voucher, error)
	// 添加或更新菜品标签关联
	UpsertDishTag(ctx context.Context, arg UpsertDishTagParams) error
	UpsertMerchantMembershipSettings(ctx context.Context, arg UpsertMerchantMembershipSettingsParams) (MerchantMembershipSetting, error)
	UpsertOrderDisplayConfig(ctx context.Context, arg UpsertOrderDisplayConfigParams) (OrderDisplayConfig, error)
	UpsertRecommendationConfig(ctx context.Context, arg UpsertRecommendationConfigParams) (RecommendationConfig, error)
	// ==========================================
	// 设备指纹查询（M9欺诈检测）
	// ==========================================
	UpsertUserDevice(ctx context.Context, arg UpsertUserDeviceParams) (UserDevice, error)
	UpsertUserPreferences(ctx context.Context, arg UpsertUserPreferencesParams) (UserPreference, error)
	UpsertWechatAccessToken(ctx context.Context, arg UpsertWechatAccessTokenParams) (WechatAccessToken, error)
}

var _ Querier = (*Queries)(nil)
