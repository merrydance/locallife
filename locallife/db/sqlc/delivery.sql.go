// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: delivery.sql

package db

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const assignDelivery = `-- name: AssignDelivery :one
UPDATE deliveries
SET 
    rider_id = $2,
    status = 'assigned',
    assigned_at = now()
WHERE id = $1 AND rider_id IS NULL
RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

type AssignDeliveryParams struct {
	ID      int64       `json:"id"`
	RiderID pgtype.Int8 `json:"rider_id"`
}

func (q *Queries) AssignDelivery(ctx context.Context, arg AssignDeliveryParams) (Delivery, error) {
	row := q.db.QueryRow(ctx, assignDelivery, arg.ID, arg.RiderID)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const countRiderCompletedDeliveries = `-- name: CountRiderCompletedDeliveries :one
SELECT COUNT(*) FROM deliveries
WHERE rider_id = $1 AND status = 'completed'
`

func (q *Queries) CountRiderCompletedDeliveries(ctx context.Context, riderID pgtype.Int8) (int64, error) {
	row := q.db.QueryRow(ctx, countRiderCompletedDeliveries, riderID)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countRiderDeliveries = `-- name: CountRiderDeliveries :one
SELECT COUNT(*) FROM deliveries
WHERE rider_id = $1
`

func (q *Queries) CountRiderDeliveries(ctx context.Context, riderID pgtype.Int8) (int64, error) {
	row := q.db.QueryRow(ctx, countRiderDeliveries, riderID)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const createDelivery = `-- name: CreateDelivery :one
INSERT INTO deliveries (
    order_id,
    pickup_address,
    pickup_longitude,
    pickup_latitude,
    pickup_contact,
    pickup_phone,
    delivery_address,
    delivery_longitude,
    delivery_latitude,
    delivery_contact,
    delivery_phone,
    distance,
    delivery_fee,
    estimated_pickup_at,
    estimated_delivery_at,
    status
) VALUES (
    $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, 'pending'
) RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

type CreateDeliveryParams struct {
	OrderID             int64              `json:"order_id"`
	PickupAddress       string             `json:"pickup_address"`
	PickupLongitude     pgtype.Numeric     `json:"pickup_longitude"`
	PickupLatitude      pgtype.Numeric     `json:"pickup_latitude"`
	PickupContact       pgtype.Text        `json:"pickup_contact"`
	PickupPhone         pgtype.Text        `json:"pickup_phone"`
	DeliveryAddress     string             `json:"delivery_address"`
	DeliveryLongitude   pgtype.Numeric     `json:"delivery_longitude"`
	DeliveryLatitude    pgtype.Numeric     `json:"delivery_latitude"`
	DeliveryContact     pgtype.Text        `json:"delivery_contact"`
	DeliveryPhone       pgtype.Text        `json:"delivery_phone"`
	Distance            int32              `json:"distance"`
	DeliveryFee         int64              `json:"delivery_fee"`
	EstimatedPickupAt   pgtype.Timestamptz `json:"estimated_pickup_at"`
	EstimatedDeliveryAt pgtype.Timestamptz `json:"estimated_delivery_at"`
}

func (q *Queries) CreateDelivery(ctx context.Context, arg CreateDeliveryParams) (Delivery, error) {
	row := q.db.QueryRow(ctx, createDelivery,
		arg.OrderID,
		arg.PickupAddress,
		arg.PickupLongitude,
		arg.PickupLatitude,
		arg.PickupContact,
		arg.PickupPhone,
		arg.DeliveryAddress,
		arg.DeliveryLongitude,
		arg.DeliveryLatitude,
		arg.DeliveryContact,
		arg.DeliveryPhone,
		arg.Distance,
		arg.DeliveryFee,
		arg.EstimatedPickupAt,
		arg.EstimatedDeliveryAt,
	)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const getDelivery = `-- name: GetDelivery :one
SELECT id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at FROM deliveries
WHERE id = $1 LIMIT 1
`

func (q *Queries) GetDelivery(ctx context.Context, id int64) (Delivery, error) {
	row := q.db.QueryRow(ctx, getDelivery, id)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const getDeliveryByOrderID = `-- name: GetDeliveryByOrderID :one
SELECT id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at FROM deliveries
WHERE order_id = $1 LIMIT 1
`

func (q *Queries) GetDeliveryByOrderID(ctx context.Context, orderID int64) (Delivery, error) {
	row := q.db.QueryRow(ctx, getDeliveryByOrderID, orderID)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const getDeliveryForUpdate = `-- name: GetDeliveryForUpdate :one
SELECT id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at FROM deliveries
WHERE id = $1 LIMIT 1
FOR UPDATE
`

func (q *Queries) GetDeliveryForUpdate(ctx context.Context, id int64) (Delivery, error) {
	row := q.db.QueryRow(ctx, getDeliveryForUpdate, id)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const getRiderDailyEarnings = `-- name: GetRiderDailyEarnings :one
SELECT COALESCE(SUM(rider_earnings), 0) AS daily_earnings
FROM deliveries
WHERE rider_id = $1 
    AND status = 'completed'
    AND completed_at >= $2
    AND completed_at < $3
`

type GetRiderDailyEarningsParams struct {
	RiderID       pgtype.Int8        `json:"rider_id"`
	CompletedAt   pgtype.Timestamptz `json:"completed_at"`
	CompletedAt_2 pgtype.Timestamptz `json:"completed_at_2"`
}

func (q *Queries) GetRiderDailyEarnings(ctx context.Context, arg GetRiderDailyEarningsParams) (interface{}, error) {
	row := q.db.QueryRow(ctx, getRiderDailyEarnings, arg.RiderID, arg.CompletedAt, arg.CompletedAt_2)
	var daily_earnings interface{}
	err := row.Scan(&daily_earnings)
	return daily_earnings, err
}

const getRiderEarnings = `-- name: GetRiderEarnings :one
SELECT COALESCE(SUM(rider_earnings), 0) AS total_earnings
FROM deliveries
WHERE rider_id = $1 AND status = 'completed'
`

func (q *Queries) GetRiderEarnings(ctx context.Context, riderID pgtype.Int8) (interface{}, error) {
	row := q.db.QueryRow(ctx, getRiderEarnings, riderID)
	var total_earnings interface{}
	err := row.Scan(&total_earnings)
	return total_earnings, err
}

const listDeliveriesByRider = `-- name: ListDeliveriesByRider :many
SELECT id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at FROM deliveries
WHERE rider_id = $1
ORDER BY created_at DESC
LIMIT $2 OFFSET $3
`

type ListDeliveriesByRiderParams struct {
	RiderID pgtype.Int8 `json:"rider_id"`
	Limit   int32       `json:"limit"`
	Offset  int32       `json:"offset"`
}

func (q *Queries) ListDeliveriesByRider(ctx context.Context, arg ListDeliveriesByRiderParams) ([]Delivery, error) {
	rows, err := q.db.Query(ctx, listDeliveriesByRider, arg.RiderID, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Delivery{}
	for rows.Next() {
		var i Delivery
		if err := rows.Scan(
			&i.ID,
			&i.OrderID,
			&i.RiderID,
			&i.PickupAddress,
			&i.PickupLongitude,
			&i.PickupLatitude,
			&i.PickupContact,
			&i.PickupPhone,
			&i.PickedAt,
			&i.DeliveryAddress,
			&i.DeliveryLongitude,
			&i.DeliveryLatitude,
			&i.DeliveryContact,
			&i.DeliveryPhone,
			&i.DeliveredAt,
			&i.Distance,
			&i.DeliveryFee,
			&i.RiderEarnings,
			&i.Status,
			&i.EstimatedPickupAt,
			&i.EstimatedDeliveryAt,
			&i.IsDamaged,
			&i.IsDelayed,
			&i.DamageAmount,
			&i.DamageReason,
			&i.CreatedAt,
			&i.AssignedAt,
			&i.CompletedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listDeliveriesByRiderAndStatus = `-- name: ListDeliveriesByRiderAndStatus :many
SELECT id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at FROM deliveries
WHERE rider_id = $1 AND status = $2
ORDER BY created_at DESC
LIMIT $3 OFFSET $4
`

type ListDeliveriesByRiderAndStatusParams struct {
	RiderID pgtype.Int8 `json:"rider_id"`
	Status  string      `json:"status"`
	Limit   int32       `json:"limit"`
	Offset  int32       `json:"offset"`
}

func (q *Queries) ListDeliveriesByRiderAndStatus(ctx context.Context, arg ListDeliveriesByRiderAndStatusParams) ([]Delivery, error) {
	rows, err := q.db.Query(ctx, listDeliveriesByRiderAndStatus,
		arg.RiderID,
		arg.Status,
		arg.Limit,
		arg.Offset,
	)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Delivery{}
	for rows.Next() {
		var i Delivery
		if err := rows.Scan(
			&i.ID,
			&i.OrderID,
			&i.RiderID,
			&i.PickupAddress,
			&i.PickupLongitude,
			&i.PickupLatitude,
			&i.PickupContact,
			&i.PickupPhone,
			&i.PickedAt,
			&i.DeliveryAddress,
			&i.DeliveryLongitude,
			&i.DeliveryLatitude,
			&i.DeliveryContact,
			&i.DeliveryPhone,
			&i.DeliveredAt,
			&i.Distance,
			&i.DeliveryFee,
			&i.RiderEarnings,
			&i.Status,
			&i.EstimatedPickupAt,
			&i.EstimatedDeliveryAt,
			&i.IsDamaged,
			&i.IsDelayed,
			&i.DamageAmount,
			&i.DamageReason,
			&i.CreatedAt,
			&i.AssignedAt,
			&i.CompletedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPendingDeliveries = `-- name: ListPendingDeliveries :many
SELECT id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at FROM deliveries
WHERE status = 'pending'
ORDER BY created_at ASC
LIMIT $1
`

func (q *Queries) ListPendingDeliveries(ctx context.Context, limit int32) ([]Delivery, error) {
	rows, err := q.db.Query(ctx, listPendingDeliveries, limit)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Delivery{}
	for rows.Next() {
		var i Delivery
		if err := rows.Scan(
			&i.ID,
			&i.OrderID,
			&i.RiderID,
			&i.PickupAddress,
			&i.PickupLongitude,
			&i.PickupLatitude,
			&i.PickupContact,
			&i.PickupPhone,
			&i.PickedAt,
			&i.DeliveryAddress,
			&i.DeliveryLongitude,
			&i.DeliveryLatitude,
			&i.DeliveryContact,
			&i.DeliveryPhone,
			&i.DeliveredAt,
			&i.Distance,
			&i.DeliveryFee,
			&i.RiderEarnings,
			&i.Status,
			&i.EstimatedPickupAt,
			&i.EstimatedDeliveryAt,
			&i.IsDamaged,
			&i.IsDelayed,
			&i.DamageAmount,
			&i.DamageReason,
			&i.CreatedAt,
			&i.AssignedAt,
			&i.CompletedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listRiderActiveDeliveries = `-- name: ListRiderActiveDeliveries :many
SELECT id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at FROM deliveries
WHERE rider_id = $1 AND status IN ('assigned', 'picking', 'picked', 'delivering')
ORDER BY created_at ASC
`

func (q *Queries) ListRiderActiveDeliveries(ctx context.Context, riderID pgtype.Int8) ([]Delivery, error) {
	rows, err := q.db.Query(ctx, listRiderActiveDeliveries, riderID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Delivery{}
	for rows.Next() {
		var i Delivery
		if err := rows.Scan(
			&i.ID,
			&i.OrderID,
			&i.RiderID,
			&i.PickupAddress,
			&i.PickupLongitude,
			&i.PickupLatitude,
			&i.PickupContact,
			&i.PickupPhone,
			&i.PickedAt,
			&i.DeliveryAddress,
			&i.DeliveryLongitude,
			&i.DeliveryLatitude,
			&i.DeliveryContact,
			&i.DeliveryPhone,
			&i.DeliveredAt,
			&i.Distance,
			&i.DeliveryFee,
			&i.RiderEarnings,
			&i.Status,
			&i.EstimatedPickupAt,
			&i.EstimatedDeliveryAt,
			&i.IsDamaged,
			&i.IsDelayed,
			&i.DamageAmount,
			&i.DamageReason,
			&i.CreatedAt,
			&i.AssignedAt,
			&i.CompletedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const updateDeliveryDamage = `-- name: UpdateDeliveryDamage :one
UPDATE deliveries
SET 
    is_damaged = true,
    damage_amount = $2,
    damage_reason = $3
WHERE id = $1
RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

type UpdateDeliveryDamageParams struct {
	ID           int64       `json:"id"`
	DamageAmount int64       `json:"damage_amount"`
	DamageReason pgtype.Text `json:"damage_reason"`
}

func (q *Queries) UpdateDeliveryDamage(ctx context.Context, arg UpdateDeliveryDamageParams) (Delivery, error) {
	row := q.db.QueryRow(ctx, updateDeliveryDamage, arg.ID, arg.DamageAmount, arg.DamageReason)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const updateDeliveryDelayed = `-- name: UpdateDeliveryDelayed :one
UPDATE deliveries
SET is_delayed = true
WHERE id = $1
RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

func (q *Queries) UpdateDeliveryDelayed(ctx context.Context, id int64) (Delivery, error) {
	row := q.db.QueryRow(ctx, updateDeliveryDelayed, id)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const updateDeliveryEstimatedTime = `-- name: UpdateDeliveryEstimatedTime :one
UPDATE deliveries
SET 
    estimated_delivery_at = $2
WHERE id = $1
RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

type UpdateDeliveryEstimatedTimeParams struct {
	ID                  int64              `json:"id"`
	EstimatedDeliveryAt pgtype.Timestamptz `json:"estimated_delivery_at"`
}

func (q *Queries) UpdateDeliveryEstimatedTime(ctx context.Context, arg UpdateDeliveryEstimatedTimeParams) (Delivery, error) {
	row := q.db.QueryRow(ctx, updateDeliveryEstimatedTime, arg.ID, arg.EstimatedDeliveryAt)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const updateDeliveryToCancelled = `-- name: UpdateDeliveryToCancelled :one
UPDATE deliveries
SET 
    status = 'cancelled'
WHERE id = $1
RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

func (q *Queries) UpdateDeliveryToCancelled(ctx context.Context, id int64) (Delivery, error) {
	row := q.db.QueryRow(ctx, updateDeliveryToCancelled, id)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const updateDeliveryToCompleted = `-- name: UpdateDeliveryToCompleted :one
UPDATE deliveries
SET 
    status = 'completed',
    rider_earnings = $2,
    completed_at = now()
WHERE id = $1 AND status = 'delivered'
RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

type UpdateDeliveryToCompletedParams struct {
	ID            int64 `json:"id"`
	RiderEarnings int64 `json:"rider_earnings"`
}

func (q *Queries) UpdateDeliveryToCompleted(ctx context.Context, arg UpdateDeliveryToCompletedParams) (Delivery, error) {
	row := q.db.QueryRow(ctx, updateDeliveryToCompleted, arg.ID, arg.RiderEarnings)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const updateDeliveryToDelivered = `-- name: UpdateDeliveryToDelivered :one
UPDATE deliveries
SET 
    status = 'delivered',
    delivered_at = now()
WHERE id = $1 AND rider_id = $2 AND status = 'delivering'
RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

type UpdateDeliveryToDeliveredParams struct {
	ID      int64       `json:"id"`
	RiderID pgtype.Int8 `json:"rider_id"`
}

func (q *Queries) UpdateDeliveryToDelivered(ctx context.Context, arg UpdateDeliveryToDeliveredParams) (Delivery, error) {
	row := q.db.QueryRow(ctx, updateDeliveryToDelivered, arg.ID, arg.RiderID)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const updateDeliveryToDelivering = `-- name: UpdateDeliveryToDelivering :one
UPDATE deliveries
SET 
    status = 'delivering'
WHERE id = $1 AND rider_id = $2 AND status = 'picked'
RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

type UpdateDeliveryToDeliveringParams struct {
	ID      int64       `json:"id"`
	RiderID pgtype.Int8 `json:"rider_id"`
}

func (q *Queries) UpdateDeliveryToDelivering(ctx context.Context, arg UpdateDeliveryToDeliveringParams) (Delivery, error) {
	row := q.db.QueryRow(ctx, updateDeliveryToDelivering, arg.ID, arg.RiderID)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const updateDeliveryToPicked = `-- name: UpdateDeliveryToPicked :one
UPDATE deliveries
SET 
    status = 'picked',
    picked_at = now()
WHERE id = $1 AND rider_id = $2 AND status = 'picking'
RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

type UpdateDeliveryToPickedParams struct {
	ID      int64       `json:"id"`
	RiderID pgtype.Int8 `json:"rider_id"`
}

func (q *Queries) UpdateDeliveryToPicked(ctx context.Context, arg UpdateDeliveryToPickedParams) (Delivery, error) {
	row := q.db.QueryRow(ctx, updateDeliveryToPicked, arg.ID, arg.RiderID)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}

const updateDeliveryToPickup = `-- name: UpdateDeliveryToPickup :one
UPDATE deliveries
SET 
    status = 'picking'
WHERE id = $1 AND rider_id = $2
RETURNING id, order_id, rider_id, pickup_address, pickup_longitude, pickup_latitude, pickup_contact, pickup_phone, picked_at, delivery_address, delivery_longitude, delivery_latitude, delivery_contact, delivery_phone, delivered_at, distance, delivery_fee, rider_earnings, status, estimated_pickup_at, estimated_delivery_at, is_damaged, is_delayed, damage_amount, damage_reason, created_at, assigned_at, completed_at
`

type UpdateDeliveryToPickupParams struct {
	ID      int64       `json:"id"`
	RiderID pgtype.Int8 `json:"rider_id"`
}

func (q *Queries) UpdateDeliveryToPickup(ctx context.Context, arg UpdateDeliveryToPickupParams) (Delivery, error) {
	row := q.db.QueryRow(ctx, updateDeliveryToPickup, arg.ID, arg.RiderID)
	var i Delivery
	err := row.Scan(
		&i.ID,
		&i.OrderID,
		&i.RiderID,
		&i.PickupAddress,
		&i.PickupLongitude,
		&i.PickupLatitude,
		&i.PickupContact,
		&i.PickupPhone,
		&i.PickedAt,
		&i.DeliveryAddress,
		&i.DeliveryLongitude,
		&i.DeliveryLatitude,
		&i.DeliveryContact,
		&i.DeliveryPhone,
		&i.DeliveredAt,
		&i.Distance,
		&i.DeliveryFee,
		&i.RiderEarnings,
		&i.Status,
		&i.EstimatedPickupAt,
		&i.EstimatedDeliveryAt,
		&i.IsDamaged,
		&i.IsDelayed,
		&i.DamageAmount,
		&i.DamageReason,
		&i.CreatedAt,
		&i.AssignedAt,
		&i.CompletedAt,
	)
	return i, err
}
