<view class="container">
  <view class="header">
    <text class="title">预订 - {{merchantName}}</text>
  </view>

  <view class="form-group">
    <t-cell-group title="基本信息">
      <t-cell title="预订日期" note="{{date || '请选择日期'}}" arrow bind:tap="showDatePicker" />
      <t-cell title="预订时间" note="{{time || '请选择时间'}}" arrow bind:tap="showTimePicker" />
      <t-cell title="用餐人数" note="{{partySize}}人" arrow bind:tap="showPartySizePicker" />
    </t-cell-group>

    <t-cell-group title="联系信息">
      <t-input label="联系人" placeholder="请输入姓名" value="{{contactName}}" bind:change="onNameInput" />
      <t-input label="手机号" placeholder="请输入手机号" type="number" value="{{contactPhone}}" bind:change="onPhoneInput" />
    </t-cell-group>

    <t-cell-group title="备注">
      <t-textarea placeholder="如有特殊要求请填写" value="{{notes}}" bind:change="onNotesInput" maxlength="100" />
    </t-cell-group>
  </view>

  <view class="footer-action">
    <t-button theme="primary" size="large" block bind:tap="onSubmit">提交预订</t-button>
  </view>

  <!-- Pickers -->
  <t-date-time-picker
    title="选择日期"
    visible="{{showDatePicker}}"
    mode="date"
    defaultValue="{{date}}"
    format="YYYY-MM-DD"
    minDate="{{minDate}}"
    maxDate="{{maxDate}}"
    bind:confirm="onDateConfirm"
    bind:cancel="hideDatePicker"
  />

  <t-picker
    visible="{{showTimePicker}}"
    title="选择时间"
    cancelBtn="取消"
    confirmBtn="确认"
    bind:confirm="onTimeConfirm"
    bind:cancel="hideTimePicker"
  >
    <t-picker-item options="{{timeOptions}}" />
  </t-picker>

    <t-picker
    visible="{{showPartySizePicker}}"
    title="选择人数"
    cancelBtn="取消"
    confirmBtn="确认"
    bind:confirm="onPartySizeConfirm"
    bind:cancel="hidePartySizePicker"
  >
    <t-picker-item options="{{partySizeOptions}}" />
  </t-picker>
</view>
